if (self.CavalryLogger) { CavalryLogger.start_js(["2kcr5"]); }

__d("UFI2DebugLog",["CircularBuffer","UFI2Logger","UFIVersion","gkx","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("CircularBuffer"))(200);function h(a){return g.read().filter(function(b){return b.topLevelFeedbackTargetID===a})}a=b("gkx")("678290")?{dumpToScuba:function(a,c){var d=JSON.stringify(h(a));b("UFI2Logger").log({debugLogDump:d,errorIdentifier:c,eventName:"debug_log_dump",feedbackTargetID:a,version:b("UFIVersion").RELAY})},log:function(a){a=babelHelpers["extends"]({},a,{timestamp:b("performanceNow")()});g.write(a)}}:{dumpToScuba:function(a,b){},log:function(a){}};e.exports=a}),null);
__d("UFI2CommentsListState",["invariant","ErrorUtils","FBLogger","UFI2DebugLog","gkx","objectKeys"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){var b=a.count,c=a.direction,d=a.error,e=a.hasMore,f=a.isLoading,g=a.pageSize;a=a.totalCount;if(a!=null&&a===0)return null;if(b===0)return null;return!e?null:{__type:"PAGER",count:Math.min(b,g),direction:c,status:{error:d,pending:f}}}function i(a){var b=a.count,c=a.expanded;a=a.minCountToShowCollapser;if(!c)return null;if(a==null)return null;return b<=a?null:{__type:"REPLIES_COLLAPSER",count:b}}function j(a){var b=a.error,c=a.expanded,d=a.isLoading;a=a.totalCount;return c||a===0?null:{__type:"REPLIES_EXPANDER",count:a,status:{error:b,pending:d}}}function k(a){var b=a.direction;a=a.page;if(b==="forward"){b=Math.max(0,a.afterCount-1);return babelHelpers["extends"]({},a,{afterCount:b,hasNext:b>0})}b=Math.max(0,a.beforeCount-1);return babelHelpers["extends"]({},a,{beforeCount:b,hasPrevious:b>0})}function l(a){var c=a.commentsByID;a=babelHelpers.objectWithoutPropertiesLoose(a,["commentsByID"]);return babelHelpers["extends"]({commentIDs:c==null?null:b("objectKeys")(c)},a)}function m(a){if(a.commentsByID){var c=a.commentsByID,d=babelHelpers.objectWithoutPropertiesLoose(a,["commentsByID"]);return babelHelpers["extends"]({commentIDs:b("objectKeys")(c)},d)}else return babelHelpers["extends"]({commentIDs:[]},a)}function n(a,c){var d=o(a,c);a.__type!=="INITIAL_STATE"&&(c!=null||g(0,5935),b("UFI2DebugLog").log({actionArgs:m(a.args),actionType:a.__type,depth:a.args.depth,feedbackTargetID:c.feedbackTargetID,name:"UFI2CommentsProvider state transition",nextState:l(d),previousState:l(c),topLevelFeedbackTargetID:c.topLevelFeedbackTargetID}));return d}function o(a,c){__p&&__p();if(a.__type==="INITIAL_STATE"){var d=a.args,e=d.afterCount,f=d.beforeCount,l=d.canViewerComment,m=d.commentsByID,n=d.commentIDs,o=d.feedbackTargetID,p=d.hasNext,r=d.hasPrevious,v=d.hiddenCommentIDs,x=d.initiallyExpanded,y=d.pageSize,z=d.shouldRenderComposerPreemptively,A=d.topLevelFeedbackTargetID;d=d.totalCount;y={backward:x?h({count:f,direction:"backward",error:null,hasMore:r,isLoading:!1,pageSize:y,totalCount:d}):null,forward:x?h({count:e,direction:"forward",error:null,hasMore:p,isLoading:!1,pageSize:y,totalCount:d}):null};var B={};v.forEach(function(a){B[a]="COLLAPSED"});v={canViewerComment:l,commentPages:n.length>0?[{__type:"COMMENTS_PAGE",afterCount:e,beforeCount:f,commentIDs:n,hasNext:p,hasPrevious:r,state:"VISIBLE"}]:[],commentsByID:m,commentsHiddenByViewer:B,expanded:x,feedbackTargetID:o,hasPaged:{backward:!1,forward:!1},newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:y,shouldComposerRenderWhenListIsExpanded:z,topLevelFeedbackTargetID:A};if(a.args.depth===0)return babelHelpers["extends"]({},v,{__type:"DEPTH_0",status:{error:null,pending:!1}});l=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},v,{__type:"DEPTH_1",repliesCollapser:i({count:n.length,expanded:x,minCountToShowCollapser:l}),repliesExpander:j({error:null,expanded:x,isLoading:!1,totalCount:d})})}c!=null||g(0,5935);switch(a.__type){case"COLLAPSE_LIST":e=a.args;f=e.depth;p=e.totalCount;if(c.expanded===!1)return c;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{expanded:!1});r=w.getCommentsCount({depth:f,state:c})===0;m=p>0&&r===!0;m&&b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): COLLAPSE_LIST: expected list not to be empty if connection is not empty");return babelHelpers["extends"]({},c,{expanded:!1,repliesCollapser:null,repliesExpander:j({error:c.repliesExpander?c.repliesExpander.status.error:null,expanded:!1,isLoading:!1,totalCount:p})});case"DELETE_COMMENT":o=a.args;var C=o.commentID;y=o.depth;z=c.commentPages;var D=c.newCommentsPage;if(z.length===0&&D.commentIDs.length===0)return c;A=D.commentIDs.filter(function(a){return a!==C});v=w.getVisibleCommentsCount({depth:y,state:c});n=A.length<D.commentIDs.length;if(n){var E={};A.forEach(function(a){E[a]=D.visibleStates[a]});l=babelHelpers["extends"]({},D,{commentIDs:A,visibleStates:E});x=z.map(function(a){return k({direction:"backward",page:a})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:x,newCommentsPage:l});a.args.depth===1||g(0,5936);d=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:x,newCommentsPage:l,repliesCollapser:i({count:v-1,expanded:c.expanded,minCountToShowCollapser:d})})}var F=null,G=!1;e=z.map(function(a,b){__p&&__p();if(G)return k({direction:"backward",page:a});var c=a.commentIDs.filter(function(a){return a!==C});if(c.length<a.commentIDs.length){G=!0;F=b;return babelHelpers["extends"]({},a,{commentIDs:c})}return a}).map(function(a,b){return a&&F!=null&&b<F?k({direction:"forward",page:a}):a}).filter(Boolean);if(G===!1){b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): Tried deleting a comment that isnt present");return c}if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:e});a.args.depth===1||g(0,5936);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:e,repliesCollapser:i({count:v-1,expanded:c.expanded,minCountToShowCollapser:a.args.minCountToShowCollapser})});case"EXPAND_HIDDEN_COMMENTS":f=a.args.commentIDs;var H=c.commentsHiddenByViewer,I=babelHelpers["extends"]({},H);f.forEach(function(a){var c=H[a];if(c==null){b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): Tried expanding a comment that is not hidden");return}c==="COLLAPSED"&&(I[a]="EXPANDED")});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:I}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:I});case"EXPAND_LIST":r=a.args;m=r.depth;p=r.totalCount;o=c.commentPages;y=c.newCommentsPage;if(c.expanded===!0&&c.shouldComposerRenderWhenListIsExpanded===!0)return c;if(m===1&&w.isRepliesExpanderLoading({depth:m,state:c}))return c;if(p===0)return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!0,repliesCollapser:null,repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});n=w.getVisibleCommentsCount({depth:m,state:c});if(n===0){A=w.getCommentsCount({depth:m,state:c})===0;if(A)return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0,status:{error:null,pending:!0}}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!1,repliesCollapser:null,repliesExpander:j({error:null,expanded:!1,isLoading:!0,totalCount:p})});x=o.length>0?o[0]:null;l=x!=null?[babelHelpers["extends"]({},x,{state:"VISIBLE"})].concat(o.slice(1)):o;var J={};y.commentIDs.forEach(function(a){J[a]="VISIBLE"});d=babelHelpers["extends"]({},y,{visibleStates:J});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:l,expanded:!0,newCommentsPage:d,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth===1||g(0,5936);z=(x!=null?x.commentIDs.length:0)+y.commentIDs.length;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:l,expanded:!0,newCommentsPage:d,repliesCollapser:i({count:z,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0})}if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth===1||g(0,5936);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!0,repliesCollapser:i({count:n,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});case"HIDE_COMMENTS":e=a.args.commentIDs;v=c.commentsHiddenByViewer;var K=babelHelpers["extends"]({},v);e.forEach(function(a){K[a]="LOCALLY_HIDDEN"});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:K}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:K});case"RECEIVE_COMMENTS_PAGE":f=c.commentPages;var L=c.newCommentsPage;r=c.pagers;m=a.args;var M=m.commentIDs;A=m.depth;p=m.direction;o=m.feedbackTargetID;x=m.hiddenCommentIDs;y=m.pageSize;l=L.commentIDs.filter(function(a){return!M.includes(a)});var N={};l.forEach(function(a){N[a]=L.visibleStates[a]});d=babelHelpers["extends"]({},L,{commentIDs:l,visibleStates:N});var O=new Set(f.reduce(function(a,b){return a.concat(b.commentIDs)},[]));z=M.filter(function(a){return!O.has(a)});p==="forward"&&a.args.hasNext===!0&&a.args.afterCount===0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",o).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that has_next_page but after_count is 0");a.args.direction==="forward"&&a.args.hasNext===!1&&a.args.afterCount>0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",o).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that does NOT have next_page but after_count is > 0");a.args.direction==="backward"&&a.args.hasPrevious===!0&&a.args.beforeCount===0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",o).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that has_previous_page but before_count is 0");a.args.direction==="backward"&&a.args.hasPrevious===!1&&a.args.beforeCount>0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",o).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that does NOT have previous_page but before_count is > 0");var P=w.isPagerLoading({depth:A,direction:p,state:c})===!0;n=A===1&&w.isRepliesExpanderLoading({depth:A,state:c});v=c.shouldComposerRenderWhenListIsExpanded===!0||P===!0||n===!0;var Q=babelHelpers["extends"]({},c.commentsHiddenByViewer);x.forEach(function(a){Object.prototype.hasOwnProperty.call(Q,a)||(Q[a]="COLLAPSED")});e=O.size;if(A===1&&a.args.direction==="forward"&&e===0){m=a.args;o=m.afterCount;p=m.hasNext;x={backward:null,forward:h({count:o,direction:"forward",error:null,hasMore:p,isLoading:!1,pageSize:y})};var R=c.expanded||n?"VISIBLE":"HIDDEN";e={__type:"COMMENTS_PAGE",afterCount:o,beforeCount:l.length,commentIDs:z,hasNext:p,hasPrevious:!1,state:R};l.forEach(function(a){N[a]=R});d=babelHelpers["extends"]({},L,{commentIDs:l,visibleStates:N});a.args.depth===1||g(0,5936);c.__type==="DEPTH_1"||g(0,5936);m=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[e],commentsHiddenByViewer:Q,expanded:R==="VISIBLE",newCommentsPage:d,pagers:x,repliesCollapser:i({count:z.length,expanded:n,minCountToShowCollapser:m}),repliesExpander:n?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:v})}n===!0&&b("UFI2DebugLog").dumpToScuba(c.topLevelFeedbackTargetID,"UFI2CommentsList.updater(...): RECEIVE_COMMENTS_PAGE - Expected replies expander not to be loading if comment pages are available");n===!1||g(0,5937);o=f[0];p=f[f.length-1];e=w.getVisibleCommentsCount({depth:A,state:c});if(a.args.direction==="backward"){P&&o!=null&&(o.state==="VISIBLE"||g(0,5938));x=a.args;m=x.beforeCount;n=x.hasPrevious;A=m<=l.length;A&&(N={},d.commentIDs.forEach(function(a){N[a]=P?"VISIBLE":"HIDDEN"}),d=babelHelpers["extends"]({},d,{visibleStates:N}));x=m-d.commentIDs.length;l=babelHelpers["extends"]({},r,{backward:P?h({count:x,direction:"backward",error:null,hasMore:n&&!A,isLoading:!1,pageSize:y}):r.backward});x={__type:"COMMENTS_PAGE",afterCount:((x=o==null?void 0:o.afterCount)!=null?x:0)+((o=o==null?void 0:(x=o.commentIDs)==null?void 0:x.length)!=null?o:0),beforeCount:m,commentIDs:z,hasNext:!0,hasPrevious:n,state:P?"VISIBLE":"HIDDEN"};if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[x].concat(f),commentsHiddenByViewer:Q,newCommentsPage:d,pagers:l,shouldComposerRenderWhenListIsExpanded:v});a.args.depth===1||g(0,5936);o=a.args.minCountToShowCollapser;m=e+(x.state==="VISIBLE"?z.length:0)+(A&&P?d.commentIDs.length:0);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[x].concat(f),commentsHiddenByViewer:Q,newCommentsPage:d,pagers:l,repliesCollapser:i({count:m,expanded:c.expanded,minCountToShowCollapser:o}),shouldComposerRenderWhenListIsExpanded:v})}P&&p!=null&&(p.state==="VISIBLE"||g(0,5939));n=a.args;A=n.afterCount;x=n.hasNext;l=babelHelpers["extends"]({},r,{forward:P?h({count:A,direction:"forward",error:null,hasMore:x,isLoading:!1,pageSize:y}):r.forward});y={__type:"COMMENTS_PAGE",afterCount:A,beforeCount:((m=p==null?void 0:p.beforeCount)!=null?m:0)+((n=p==null?void 0:(o=p.commentIDs)==null?void 0:o.length)!=null?n:0),commentIDs:z,hasNext:x,hasPrevious:!0,state:P?"VISIBLE":"HIDDEN"};if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[].concat(f,[y]),commentsHiddenByViewer:Q,newCommentsPage:d,pagers:l,shouldComposerRenderWhenListIsExpanded:v});a.args.depth===1||g(0,5936);r=a.args.minCountToShowCollapser;A=y.state==="VISIBLE"?e+z.length:e;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[].concat(f,[y]),commentsHiddenByViewer:Q,newCommentsPage:d,pagers:l,repliesCollapser:i({count:A,expanded:c.expanded,minCountToShowCollapser:r}),shouldComposerRenderWhenListIsExpanded:v});case"RECEIVE_NEW_COMMENT":m=a.args;var S=m.commentID;p=m.depth;o=m.pageSize;n=m.prevTotalCount;x=m.totalCount;z=c.commentPages;e=c.expanded;f=c.newCommentsPage;y=c.pagers;d=w.getCommentsCount({depth:p,state:c})===0;l=Object.prototype.hasOwnProperty.call(f.visibleStates,S)||z.some(function(a){return a.commentIDs.includes(S)});if(l)return c;A=c.repliesExpander!=null?babelHelpers["extends"]({},c.repliesExpander,{count:Math.min(c.repliesExpander.count+1,x)}):null;if(z.length===0){v=babelHelpers["extends"]({},f,{commentIDs:[S].concat(f.commentIDs),visibleStates:babelHelpers["extends"]({},f.visibleStates,(r={},r[S]=e||p===1&&d&&n===0?"VISIBLE":"HIDDEN",r))});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",newCommentsPage:v});a.args.depth===1||g(0,5936);m=a.args.minCountToShowCollapser;l=d&&n===0?!0:e;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:l,newCommentsPage:v,repliesCollapser:i({count:v.commentIDs.length,expanded:e,minCountToShowCollapser:m}),repliesExpander:A,shouldComposerRenderWhenListIsExpanded:!0})}r=z[0];d=s(c);if(d&&t(c)){l=z.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})});m=babelHelpers["extends"]({},f,{commentIDs:[S].concat(f.commentIDs),visibleStates:babelHelpers["extends"]({},f.visibleStates,(v={},v[S]="VISIBLE",v))});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:l,newCommentsPage:m});a.args.depth===1||g(0,5936);v=a.args.minCountToShowCollapser;p=w.getVisibleCommentsCount({depth:p,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:l,newCommentsPage:m,repliesCollapser:i({count:p+1,expanded:e,minCountToShowCollapser:v}),repliesExpander:A,shouldComposerRenderWhenListIsExpanded:!0})}else if(d&&f.commentIDs.length===0){l=y.backward!=null?babelHelpers["extends"]({},y,{backward:babelHelpers["extends"]({},y.backward,{count:Math.min(y.backward.count+1,o)})}):y;m=r.commentIDs.length<o;if(m){p=[babelHelpers["extends"]({},r,{commentIDs:[S].concat(r.commentIDs)})].concat(z.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:p,pagers:l}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:p,pagers:l,repliesExpander:A})}e=[{__type:"COMMENTS_PAGE",afterCount:r.afterCount+r.commentIDs.length,beforeCount:0,commentIDs:[S],hasNext:!0,hasPrevious:!1,state:"HIDDEN"},babelHelpers["extends"]({},r,{beforeCount:1,hasPrevious:!0})].concat(z.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:e,pagers:l}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:e,pagers:l,repliesExpander:A})}else{v=x<=n;d=v?z:z.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0})});m=y.backward!=null?babelHelpers["extends"]({},y,{backward:babelHelpers["extends"]({},y.backward,{count:v?y.backward.count:Math.min(y.backward.count+1,o)})}):y;r=babelHelpers["extends"]({},f,{commentIDs:[S].concat(f.commentIDs),visibleStates:babelHelpers["extends"]({},f.visibleStates,(p={},p[S]="HIDDEN",p))});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:d,newCommentsPage:r,pagers:m}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:d,newCommentsPage:r,pagers:m,repliesExpander:A})}case"RECEIVE_REFETCH_LIST":e=a.args.depth;l=c.feedbackTargetID;x=c.topLevelFeedbackTargetID;e===0||g(0,5940);w.isListLoading({depth:e,state:c})||g(0,5941);n=q.getInitialState(babelHelpers["extends"]({},a.args,{depth:0,initiallyExpanded:!0,feedbackTargetID:l,topLevelFeedbackTargetID:x}));n.__type==="DEPTH_0"||g(0,5940);return babelHelpers["extends"]({},n,{__type:"DEPTH_0",expanded:c.expanded,status:{error:null,pending:!1}});case"REQUEST_COMMENTS_PAGE":z=a.args;v=z.depth;o=z.direction;y=z.pageSize;f=c.commentPages;p=c.expanded;d=c.newCommentsPage;r=c.pagers;p||g(0,5942);w.isPagerLoading({depth:v,direction:o,state:c})&&g(0,5943);v===0&&(w.isListLoading({depth:v,state:c})&&g(0,5944));v===1&&(w.isRepliesExpanderLoading({depth:v,state:c})&&g(0,5945));if(o==="backward"){m=f.findIndex(function(a){return a.state==="VISIBLE"});A=-1;if(m>-1){e=f[m];e.hasPrevious===!1&&b("UFI2DebugLog").dumpToScuba(c.topLevelFeedbackTargetID,"UFI2CommentsList.updater(...): REQUEST_COMMENTS_PAGE - Can't request previous comments if there are no more comments available");e.hasPrevious===!0||g(0,5946);A=m-1}else m===-1&&f.length>0&&(A=0);l=f[A];x=s(c)&&u(c,"HIDDEN");if(l&&l.state==="HIDDEN"){n=[].concat(f);n[A]=babelHelpers["extends"]({},l,{state:"VISIBLE"});z=babelHelpers["extends"]({},r,{backward:h({count:l.beforeCount,direction:"backward",error:null,hasMore:l.hasPrevious,isLoading:!1,pageSize:y})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:n,hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:z,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth===1||g(0,5936);p=a.args.minCountToShowCollapser;o=w.getVisibleCommentsCount({depth:v,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:n,hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:z,repliesCollapser:i({count:o+l.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:p}),shouldComposerRenderWhenListIsExpanded:!0})}else if(x){var T={};d.commentIDs.forEach(function(a){T[a]="VISIBLE"});e=babelHelpers["extends"]({},d,{visibleStates:T});m=babelHelpers["extends"]({},r,{backward:null});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),newCommentsPage:e,pagers:m,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth===1||g(0,5936);A=a.args.minCountToShowCollapser;n=w.getVisibleCommentsCount({depth:v,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),newCommentsPage:e,pagers:m,repliesCollapser:i({count:n+e.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:A}),shouldComposerRenderWhenListIsExpanded:!0})}else{z=babelHelpers["extends"]({},r,{backward:babelHelpers["extends"]({},r.backward,{status:{error:null,pending:!0}})});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:z}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:z})}}o=[].concat(f).reverse().findIndex(function(a){return a.state==="VISIBLE"});l=-1;if(o>-1){p=f.length-1-o;x=f[p];x.hasNext===!0||g(0,5946);l=p+1}else o===-1&&f.length>0&&(l=f.length-1);d=f[l];if(d&&d.state==="HIDDEN"){m=[].concat(f);m[l]=babelHelpers["extends"]({},d,{state:"VISIBLE"});n=babelHelpers["extends"]({},r,{forward:h({count:d.afterCount,direction:"forward",error:null,hasMore:d.hasNext,isLoading:!1,pageSize:y})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:m,hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:n,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth===1||g(0,5936);e=a.args.minCountToShowCollapser;A=w.getVisibleCommentsCount({depth:v,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:m,hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:n,repliesCollapser:i({count:A+d.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:e}),shouldComposerRenderWhenListIsExpanded:!0})}else{z=babelHelpers["extends"]({},r,{forward:babelHelpers["extends"]({},r.forward,{status:{error:null,pending:!0}})});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:z}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:z})}case"REQUEST_REFETCH_LIST":x=a.args.depth;x===0&&c.__type==="DEPTH_0"||g(0,5940);w.isListLoading({depth:x,state:c})&&g(0,5941);return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[],expanded:!0,hasPaged:{backward:!1,forward:!1},newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:{backward:null,forward:null},status:{error:null,pending:!0}});case"SET_CAN_VIEWER_COMMENT":p=a.args.canViewerComment;return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",canViewerComment:p}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",canViewerComment:p});case"SET_COMMENTS_BY_ID":o=a.args.commentsByID;return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsByID:o}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsByID:o});case"SET_SERVER_COMMENT_ID":f=a.args;var U=f.clientCommentID,V=f.serverCommentID;l=c.commentPages;var W=c.newCommentsPage,X=!1,Y={};y=W.commentIDs.map(function(a){if(a===U){X=!0;Y[V]=W.visibleStates[a];return V}Y[a]=W.visibleStates[a];return a});if(X)return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",newCommentsPage:babelHelpers["extends"]({},c.newCommentsPage,{commentIDs:y,visibleStates:Y})}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",newCommentsPage:babelHelpers["extends"]({},c.newCommentsPage,{commentIDs:y,visibleStates:Y})});v=l.map(function(a){if(X)return a;var b=a.commentIDs.map(function(a){if(a===U){X=!0;return V}return a});return X?babelHelpers["extends"]({},a,{commentIDs:b}):a});return!X?c:c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:v}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:v});case"UNHIDE_COMMENTS":m=a.args.commentIDs;n=c.commentsHiddenByViewer;var Z=babelHelpers["extends"]({},n);m.forEach(function(a){delete Z[a]});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:Z}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:Z});case"INITIAL_STATE":default:a.__type;throw new Error("UFI2CommentsListState: Invalid action type: "+a.__type)}}function p(a,c){__p&&__p();try{var d=n(a,c);return d}catch(f){d=b("ErrorUtils").normalizeError(f);d=d.message;var e=a.__type==="REQUEST_COMMENTS_PAGE"||a.__type==="RECEIVE_COMMENTS_PAGE"?a.args.direction:"Unknown";b("FBLogger")("ufi2").catching(f).addMetadata("UFI","COMMENTS_LIST_ACTION",a.__type).addMetadata("UFI","COMMENTS_LIST_DEPTH",""+a.args.depth).addMetadata("UFI","COMMENTS_LIST_DIRECTION",e).mustfix("UFI2CommentsListState.updater(...): "+d);b("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&a.__type!=="SET_COMMENTS_BY_ID"&&console.groupEnd();if(!c)throw f;return c}}function a(a,b){return n(a,b)}function c(a,b){return n(a,b)}var q={collapseList:function(a){var b=a.args;a=a.state;return p({__type:"COLLAPSE_LIST",args:b},a)},deleteComment:function(a){var b=a.args;a=a.state;return p({__type:"DELETE_COMMENT",args:b},a)},expandHiddenComments:function(a){var b=a.args;a=a.state;return p({__type:"EXPAND_HIDDEN_COMMENTS",args:b},a)},expandList:function(a){var b=a.args;a=a.state;return p({__type:"EXPAND_LIST",args:b},a)},getInitialState:function(a){return p({__type:"INITIAL_STATE",args:a},null)},hideComments:function(a){var b=a.args;a=a.state;return p({__type:"HIDE_COMMENTS",args:b},a)},receiveCommentsPage:function(a){var b=a.args;a=a.state;return p({__type:"RECEIVE_COMMENTS_PAGE",args:b},a)},receiveNewComment:function(a){var b=a.args;a=a.state;return p({__type:"RECEIVE_NEW_COMMENT",args:b},a)},receiveRefetchList:function(a){var b=a.args;a=a.state;return p({__type:"RECEIVE_REFETCH_LIST",args:b},a)},requestCommentsPage:function(a){var b=a.args;a=a.state;return p({__type:"REQUEST_COMMENTS_PAGE",args:b},a)},requestRefetchList:function(a){var b=a.args;a=a.state;return p({__type:"REQUEST_REFETCH_LIST",args:b},a)},setCanViewerComment:function(a){var b=a.args;a=a.state;return p({__type:"SET_CAN_VIEWER_COMMENT",args:b},a)},setCommentsByID:function(a){var b=a.args;a=a.state;return p({__type:"SET_COMMENTS_BY_ID",args:b},a)},setServerCommentID:function(a){var b=a.args;a=a.state;return p({__type:"SET_SERVER_COMMENT_ID",args:b},a)},unhideComments:function(a){var b=a.args;a=a.state;return p({__type:"UNHIDE_COMMENTS",args:b},a)}};function r(a){var b=a.direction;a=a.state;b=b==="forward"?[].concat(a.commentPages).reverse():a.commentPages;return b.find(function(a){return a.state==="VISIBLE"})}function s(a){var b=a.commentPages;a=a.newCommentsPage;b=b[0];return!b?a.commentIDs.length>0:b.beforeCount-a.commentIDs.length===0}function t(a){var b=a.commentPages;b=b[0];return!b?s(a)&&u(a,"VISIBLE"):s(a)&&b.state==="VISIBLE"&&u(a,"VISIBLE")}function u(a,b){var c=a.newCommentsPage;return c.commentIDs.every(function(a){return c.visibleStates[a]===b})}function v(a){var b=a.commentPages,c=a.newCommentsPage;return c.commentIDs.filter(function(a){return c.visibleStates[a]==="VISIBLE"}).concat(b.filter(function(a){return a.state==="VISIBLE"}).reduce(function(a,b){return a.concat(b.commentIDs)},[]))}var w={canFetchInDirection:function(a){__p&&__p();var b=a.depth,c=a.direction,d=a.state;a=a.totalCount;if(a===0)return!1;a=d.commentPages;var e=d.newCommentsPage,f=w.isPagerLoading({depth:b,direction:c,state:d});if(f)return!1;f=b===0&&w.isListLoading({depth:b,state:d});if(f)return!1;f=b===1&&w.isRepliesExpanderLoading({depth:b,state:d});if(f)return!1;if(a.length===0&&c==="forward")return!0;else if(a.length===0&&c==="backward")return!1;f=a[0];a=a[a.length-1];b=w.getPagerCount({depth:b,direction:"backward",state:d});b=b===e.commentIDs.length&&u(d,"HIDDEN");return c==="backward"?f.state!=="HIDDEN"&&!b&&f.hasPrevious:a.state!=="HIDDEN"&&a.hasNext},getCommentsCount:function(a){a.depth;a=a.state;var b=a.commentPages;a=a.newCommentsPage;return a.commentIDs.concat(b.reduce(function(a,b){return a.concat(b.commentIDs)},[])).length},getCountForFetch:function(a){__p&&__p();var b=a.depth,c=a.direction,d=a.pageSize;a=a.state;c=w.getPagerCount({depth:b,direction:c,state:a});if(c!=null)return c;if(b===1){d!=null||g(0,5947);c=w.getRepliesExpanderCount({depth:b,state:a});if(c!=null)return Math.min(c,d)}return null},getHiddenStateForComment:function(a){var b=a.commentID;a.depth;a=a.state;a=a.commentsHiddenByViewer;return a[b]||null},getPagerCount:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.count:null},getPagerError:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.status.error:null},getRepliesCollapserCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesCollapser;return b!=null?b.count:null},getRepliesExpanderCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.count:null},getRepliesExpanderError:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.status.error:null},getVisibleComments:function(a){__p&&__p();a.depth;a=a.state;var c=a.commentsByID,d=a.topLevelFeedbackTargetID,e=a.newCommentsPage;a=v(a);var f=a.map(function(a){var e=c[a];if(!e){b("UFI2DebugLog").dumpToScuba(d,"UFI2CommentsListState.getVisibleComments: Could not find comment locally");b("FBLogger")("ufi2").warn("UFI2CommentsListState.getVisibleComments: Could not find comment locally: %s",a);return null}return e}).filter(Boolean);a.length>0&&f.length===0&&b("FBLogger")("ufi2").warn("UFI2CommentsListState.getVisibleComments: Could not find ANY of the %s comments locally",a.length);return e.commentIDs.length>0?f.sort(function(a,b){return((b=b.created_time)!=null?b:0)-((b=a.created_time)!=null?b:0)}):f},getVisibleCommentsCount:function(a){a.depth;a=a.state;return v(a).length},getVisibleCommentsGroupedByCollapsedState:function(a){__p&&__p();var b=a.depth,c=a.reverse,d=a.shouldCollapseComment;a=a.state;b=w.getVisibleComments({depth:b,state:a});a=c?b.slice().reverse():b;return a.reduce(function(a,b){__p&&__p();var c=d(b)?"COLLAPSED":"VISIBLE";if(a.length===0)return[{comments:[b],state:c}];var e=a[a.length-1],f=e.comments[e.comments.length-1];if(!f)return a;f=e.state;if(f===c){e.comments.push(b);return a}return[].concat(a,[{comments:[b],state:c}])},[])},getVisibleCommentsWithHiddenCommentsCollapsed:function(a){var b=a.depth,c=a.reverse,d=a.state;return w.getVisibleCommentsGroupedByCollapsedState({depth:b,reverse:c,shouldCollapseComment:function(a){return w.getHiddenStateForComment({commentID:a.id,depth:b,state:d})==="COLLAPSED"},state:d})},hasLastPageLeftInDirection:function(a){a.depth;var b=a.direction,c=a.pageSize,d=a.state;a=a.totalCount;d=r({direction:b,state:d});if(!d)return b==="forward"?a<=c:!1;return b==="forward"?d.afterCount<=c:d.beforeCount<=c},hasMoreInDirection:function(a){a.depth;var b=a.direction,c=a.state;a=a.totalCount;c=r({direction:b,state:c});if(!c)return b==="forward"?a>0:!1;return b==="forward"?c.hasNext:c.hasPrevious},hasPagedInDirection:function(a){a.depth;var b=a.direction;a=a.state;a=a.hasPaged;return a[b]},hasVisibleComments:function(a){var b=a.depth;a=a.state;return w.getVisibleComments({depth:b,state:a}).length>0},isCommentHiddenByViewer:function(a){return w.getHiddenStateForComment(a)!=null},isComposerVisible:function(a){a.depth;a=a.state;return a.canViewerComment&&a.expanded&&a.shouldComposerRenderWhenListIsExpanded},isListExpanded:function(a){a.depth;a=a.state;return a.expanded},isListLoading:function(a){var b=a.depth;a=a.state;return b===1||a.__type!=="DEPTH_0"?!1:a.status.pending},isPagerLoading:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null?a.status.pending:!1},isPagerVisible:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null},isRepliesCollapserVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesCollapser;return b!=null},isRepliesExpanderLoading:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null?b.status.pending:!1},isRepliesExpanderVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null}};e.exports={_updaterDepth0_DO_NOT_USE:a,_updaterDepth1_DO_NOT_USE:c,Selectors:w,StateUpdaters:q}}),null);
__d("isUFI2ClientID",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.startsWith("client:")}e.exports=a}),null);
__d("UFI2CommentsProviderState",["FBLogger","gkx","isUFI2ClientID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a!=null&&(a.is_locally_composed===!0||a.is_created_from_subscription===!0||a.optimistic_error!=null)}function h(a){return!a||a.spam_display_mode==null?!1:(a==null?void 0:a.spam_display_mode)!=="none"}function a(a){a=(a=a.feedback.display_comments)==null?void 0:a.before_count;return typeof a==="number"?a:null}function i(a){return a.filter(function(a){return b("isUFI2ClientID")(a)})}function j(a){__p&&__p();var c={};a=a?a.map(function(a){__p&&__p();if(!a){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received null edge from comments connection.");return null}a=a.node;if(!a){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received null comment from comments connection.");return null}var d=a.id;a=babelHelpers.objectWithoutPropertiesLoose(a,["id"]);if(typeof d!=="string"||d==null){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received comment with null id from comments connection.");return null}c[d]=babelHelpers["extends"]({},a,{id:d});return d}).filter(Boolean):[];if(a.length>Object.keys(c).length){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received duplicate comments from comments connection");var d=new Set();return{commentIDs:a.filter(function(a){if(d.has(a))return!1;d.add(a);return!0}),commentsByID:c}}return{commentIDs:a,commentsByID:c}}function k(a,c){var d=Object.keys(a),e=Object.keys(c),f=d.length,g=e.length;if(g>=f)return[];e.every(function(b){return Object.prototype.hasOwnProperty.call(a,b)})||b("FBLogger")("ufi2").warn("UFI2CommentsProvider: Expected next comments to be a subset of previous comments when removing a comment");g=d.filter(function(a){return!Object.prototype.hasOwnProperty.call(c,a)});return g}function l(a,c,d,e){__p&&__p();var f=[];d=a.filter(function(a){return!b("isUFI2ClientID")(a)});var g=function(){__p&&__p();if(i){if(j>=h.length)return"break";a=h[j++]}else{j=h.next();if(j.done)return"break";a=j.value}var b=a,d=e[b],g=d&&d.client_id!=null?d.client_id:null;g!=null&&c.find(function(a){return a===g})&&f.push({clientID:g,serverID:b})};for(var h=d,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){d=g();if(d==="break")break}return f}function m(a,c,d){__p&&__p();if(d.length<=c.length)return[];var e=a[d[0]];if(!e){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getNewlyCreatedCommentIDs(...): Next most recent comment not found");return[]}e=c.filter(function(b){return g(a[b])});c=d.filter(function(b){return g(a[b])});d=c.length-e.length>0;if(!d)return[];if(e.length===0){c.length>1&&b("FBLogger")("ufi2").info("UFI2CommentsProviderState.getNewlyCreatedCommentIDs(...): Received more than 1 new comment in a single update");return c}var f=new Set(e);return c.filter(function(a){return!f.has(a)})}function n(a,b){return b.filter(function(b){b=a[b];return b!=null&&h(b)})}function o(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&h(d)===!1&&h(c)===!0})}function p(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&h(d)===!0&&h(c)===!1})}function c(a,c){__p&&__p();var d=a.depth,e=c.commentsByID,f=c.commentIDs;a=j(a.edges);var g=a.commentIDs;a=a.commentsByID;var h=f.length,q=c.clientCommentIDs,r=g.length,s=i(g),t=c.selectedViewOption;c=c.isRefetchingConnection;var u=n(a,g),v=o(e,a,g),w=p(e,a,g);q=l(g,q,s,a);var x=r>h;h=h>r;r=x?m(a,f,g):[];x=h&&!c;f=x?k(e,a):[];h={clientCommentIDs:s,commentIDs:g,commentIDsUpdatedToServerIDs:q,commentsByID:a,hiddenCommentIDs:u,isRefetchingConnection:c,newlyCreatedCommentIDs:r,newlyHiddenCommentIDs:v,newlyUnhiddenCommentIDs:w,removedCommentIDs:f,selectedViewOption:t};b("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&(console.groupCollapsed("%cUFI2 Relay Comments Connection Update at depth "+d+":",";background-color:#75DBCD;color:#1F2D3D;opacity:0.7;font-weight:bold;"),console.groupEnd());return h}function d(a){a=a.edges;a=j(a);var b=a.commentIDs;a=a.commentsByID;var c=i(b),d=n(a,b);return{clientCommentIDs:c,commentIDs:b,commentIDsUpdatedToServerIDs:[],commentsByID:a,hiddenCommentIDs:d,isRefetchingConnection:!1,newlyCreatedCommentIDs:[],newlyHiddenCommentIDs:[],newlyUnhiddenCommentIDs:[],removedCommentIDs:[],selectedViewOption:null}}e.exports={getBeforeCount:a,getClientCommentIDs:i,getCommentIDsUpdatedToServerIDs:l,getCommentsFromEdges:j,getDerivedStateFromProps:c,getHiddenCommentIDs:n,getInitialState:d,getNewlyCreatedCommentIDs:m,getNewlyHiddenCommentIDs:o,getNewlyUnhiddenCommentIDs:p,getRemovedCommentIDs:k}}),null);
__d("UFI2LazyCodedErrorDialog.react",["FBLogger","JSResource","LoadingDialog.react","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("lazyLoadComponent")(b("JSResource")("UFI2CodedErrorDialog.react").__setRef("UFI2LazyCodedErrorDialog.react"));function a(a){var c=a.error;a=babelHelpers.objectWithoutPropertiesLoose(a,["error"]);if(Object.prototype.hasOwnProperty.call(c,"code")!=null&&Object.prototype.hasOwnProperty.call(c,"description")!=null&&Object.prototype.hasOwnProperty.call(c,"summary")!=null){var d=c;return b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(b("LoadingDialog.react"),null)},b("React").createElement(g,babelHelpers["extends"]({},a,{codedError:d,width:445})))}else{b("FBLogger")("ufi2").warn("A `UFI2LazyCodedError` was constructed with an `Error` object that doesn't conform to `CodedError`. Error: %s",String(c));return null}}e.exports=a}),null);
__d("getConsumerFacebookUFI2ComposerPlugins",["JSResource","RelayModern","UFI2Config","createUFI2ComposerStateSnapshotComposerPlugin","createUFI2ComposerTipPlugin","createUFI2ConversationGuideComposerPlugin","createUFI2DelightsComposerPlugin","createUFI2EmojiComposerPlugin","createUFI2EmoticonsComposerPlugin","createUFI2GIFComposerPlugin","createUFI2HashtagComposerPlugin","createUFI2MediaUploadComposerPlugin","createUFI2MentionsComposerPlugin","createUFI2PrefillMentionComposerPlugin","createUFI2StickersComposerPlugin","createUFI2WritingHelpComposerPlugin","gkx","qex","getConsumerFacebookUFI2ComposerPlugins_feedback.graphql","getConsumerFacebookUFI2ComposerPlugins_group.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("RelayModern").graphql;({feedback:function(){return b("getConsumerFacebookUFI2ComposerPlugins_feedback.graphql")}});({group:function(){return b("getConsumerFacebookUFI2ComposerPlugins_group.graphql")}});function a(a){var c,d=a.environment,e=a.feedback,f=a.group;a=a.pluginsToInsertBeforePositions;var g=e.mentions_datasource_js_constructor_args_json;return[e.composer_tip!=null?b("createUFI2ComposerTipPlugin")({composer_tip:e.composer_tip}):null,(b("gkx")("678286")||b("qex")._("724607"))&&b("UFI2Config").shouldShowWritingHelp?b("createUFI2WritingHelpComposerPlugin")():null,f?b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:g,typeaheadViewProps:{__type:"GroupMentions",sortFn:function(a,b){var c=a.getAuxiliaryData().renderType,d=b.getAuxiliaryData().renderType;if(c===d)return a.getOrder()-b.getOrder();a={bot:1,member:0,non_member:2};return a[c]-a[d]},viewProps:{bot:{aux:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.bot_aux:c:c,title:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.bot_title:c:c},member:{aux:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.member_aux:c:c,title:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.member_title:c:c},nonMember:{aux:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.nonmember_aux:c:c,title:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.nonmember_title:c:c}}},upgradedPluginResource:b("JSResource")("createUpgradedUFI2GroupMentionsComposerPlugin").__setRef("getConsumerFacebookUFI2ComposerPlugins")}):b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:g,typeaheadViewProps:{},upgradedPluginResource:b("JSResource")("createUpgradedUFI2MentionsComposerPlugin").__setRef("getConsumerFacebookUFI2ComposerPlugins")}),b("createUFI2HashtagComposerPlugin")(),b("gkx")("678369")?b("createUFI2DelightsComposerPlugin")({size:10}):null].concat(a?a["1"]||[]:[],[b("createUFI2EmojiComposerPlugin")({size:16})],a?a["2"]||[]:[],[b("createUFI2EmoticonsComposerPlugin")({size:16}),b("qex")._("709629")?b("createUFI2ConversationGuideComposerPlugin")({environment:d,ftentidentifier:e==null?void 0:e.id,trackingID:null}):null],a?a["3"]||[]:[],[e.can_viewer_comment_with_photo===!0&&e.can_viewer_comment_with_video===!0?b("createUFI2MediaUploadComposerPlugin")({feedback:e}):null],a?a["4"]||[]:[],[e.can_viewer_comment_with_gif===!0?b("createUFI2GIFComposerPlugin")():null],a?a["5"]||[]:[],[e.can_viewer_comment_with_sticker===!0?b("createUFI2StickersComposerPlugin")({environment:d}):null,b("createUFI2PrefillMentionComposerPlugin")(),e.can_see_voice_switcher===!0?b("createUFI2ComposerStateSnapshotComposerPlugin")():null]).filter(Boolean)}e.exports=a}),null);
__d("UFI2BanActorMutation",["RelayModern","WebCommentViewOption","relay-runtime","UFI2BanActorMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=b("relay-runtime").ConnectionHandler,i=function(){return b("UFI2BanActorMutation.graphql")};e.exports={commit:function(a,c){__p&&__p();var d=c.actorId,e=c.feedbackId,f=c.pageId,j=c.targetUserId,k=c.undoBan,l=c.feedbackSource;return g(a,{mutation:i,optimisticResponse:{feedback_page_ban:{}},updater:function(a){__p&&__p();if(e==null)return;var c=a.get(e);if(!c)return;a=Object.keys(b("WebCommentViewOption")).concat(null).map(function(a){return h.getConnection(c,"UFI2CommentsProvider_feedback_display_comments",{feedback_source:l,view_option:a})});a.forEach(function(a){__p&&__p();if(!a)return;a=a.getLinkedRecords("edges");if(!a)return;a.forEach(function(a){__p&&__p();if(!a)return;a=a.getLinkedRecord("node");if(!a)return;var b=a.getLinkedRecord("author");if(!b)return;if(b.getValue("id")===j){b=a.getValue("is_hidden_by_content_owner");a.setValue(k&&b!==!0?"none":"spam","spam_display_mode");a.setValue(!k,"is_author_banned_by_content_owner")}})})},variables:{input:{actor_id:d,ban_action:k?"UNDO_BAN":"BAN",page_id:f,target_user_id:j}}})}}}),null);
__d("displayCommentsConnectionCountUpdater",["FBLogger","RelayRuntime","WebCommentViewOption"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayRuntime").ConnectionHandler;function h(a){__p&&__p();var c=a.feedbackId,d=a.feedbackSource,e=a.modifier,f=a.store,h=a.topLevelFeedbackId,i=a.totalCommentCountModifier;function j(a){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",h||c||"UNKNOWN").addMetadata("UFI","RAW_DATA","comment_feedback_id;"+(c||"UNKNOWN")+", comments_count_modifier;"+(i||e)+", conn_count_modifier;"+e).warn(a)}var k=f.get(c);if(k==null){j("could not find feedback record");return}Object.keys(b("WebCommentViewOption")).concat(null).forEach(function(a){a=g.getConnection(k,"UFI2CommentsProvider_feedback_display_comments",a?{feedback_source:d,view_option:a}:{feedback_source:d});if(a==null)return;var b=Math.max(0,Number(a.getValue("count"))+e);a.setValue(b,"count")});a=f.get(h||c);if(a==null){j("could not find top level feedback record");return}f=a.getLinkedRecord("top_level_comments");if(f==null){j("could not find top level comments");return}j=f.getValue("total_count");j=Math.max(0,Number(j)+(i||e));f.setValue(j,"total_count");f=a.getValue("comment_count_reduced");Number(f).toString()===f&&a.setValue(j.toString(),"comment_count_reduced")}h.decrement=function(a){return h(babelHelpers["extends"]({},a,{modifier:-1}))};h.increment=function(a){return h(babelHelpers["extends"]({},a,{modifier:1}))};e.exports=h}),null);
__d("getRenderableBodyFromCommentMessage",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){__p&&__p();if(a==null)return a;var c=a.ranges==null?[]:a.ranges.filter(Boolean);return babelHelpers["extends"]({},a,{__typename:"TextWithEntities",ranges:c.map(function(a){__p&&__p();var c=b[a.entity.id];if(c){c=c.getData();var d=c.isWeak,e=c.type;c=c.uri;return babelHelpers["extends"]({},a,{entity:babelHelpers["extends"]({},a.entity,{__typename:e==null?"Actor":e.replace(/([A-Z])/g," $1").replace(/(\s+\w)/g,function(a,b){return b.toUpperCase()}).replace(/^./,function(a){return a.toUpperCase()}),url:c}),entity_is_weak_reference:!!d})}return null}).filter(Boolean)})}e.exports=a}),null);
__d("makeUFI2ClientID",[],(function(a,b,c,d,e,f){"use strict";var g=0;function a(a){return a!=null&&a.startsWith("client:")?a:a!=null?"client:"+a:"client:feedback_comment:"+g++}e.exports=a}),null);
__d("UFI2CreateCommentMutation",["invariant","Bootloader","FBLogger","FeedbackSourceType","JSEnumValueToGraphQLKey","RelayModern","RelayRuntime","ServerTime","SiteData","TQBotDetection_ProductEnum","WebCommentViewOption","displayCommentsConnectionCountUpdater","getRenderableBodyFromCommentMessage","gkx","makeUFI2ClientID","uuid","UFI2CreateCommentMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=b("RelayRuntime").applyOptimisticMutation,j=b("SiteData").pr,k=function(){return b("UFI2CreateCommentMutation.graphql")},l={};function m(a){__p&&__p();var c=b("uuid")();a.input.detection_analytics_data={detection_id:c,device_advertising_id:null,product_id:String(b("TQBotDetection_ProductEnum").FB_WEB_COMMENT)};var d=a.actorID,e=a.commentProfilePictureSizeDepth0,f=a.commentProfilePictureSizeDepth1,q=a.containerMapping,r=a.environment,s=a.entitiesByID,t=a.feedbackSource,u=a.input,v=a.onCompleted,w=a.onError,x=a.topLevelFeedbackId,y=a.updater,z=a.useDefaultActor;q=babelHelpers["extends"]({},q,{commentProfilePictureSizeDepth0:e,commentProfilePictureSizeDepth1:f,feedbackSource:t,input:babelHelpers["extends"]({},u,{actor_id:d,feedback_source:b("JSEnumValueToGraphQLKey")(b("FeedbackSourceType"),t)}),isComet:b("gkx")("708253"),scale:j,useDefaultActor:z});var A=b("makeUFI2ClientID")(a.clientID),B=a.retryID||A,C=function(a){__p&&__p();return function(c){__p&&__p();var e=c.getRootField("comment_create");if(e){e=e.getLinkedRecord("feedback_comment_edge");if(e){var f=c.get(u.feedback_id);f!=null&&y&&y(f,e)}}f=c.get(d);f||g(0,455,d);e=c.get(B);e||g(0,456,B);e.setLinkedRecord(f,"author");e.setValue("ADD","optimistic_action");a&&a.toString?e.setValue(a.toString(),"optimistic_error"):e.setValue(!0,"is_locally_composed");e.setValue(A,"client_id");b("displayCommentsConnectionCountUpdater").increment({feedbackId:u.feedback_id,feedbackSource:t,store:c,topLevelFeedbackId:x})}},D={configs:[{connectionInfo:Object.keys(b("WebCommentViewOption")).concat(null).map(function(a){return{filters:a?{feedback_source:t,view_option:a}:{feedback_source:t},key:"UFI2CommentsProvider_feedback_display_comments",rangeBehavior:"prepend"}}),edgeName:"feedback_comment_edge",parentID:u.feedback_id,type:"RANGE_ADD"}],mutation:k,optimisticResponse:p(u,B,s),optimisticUpdater:C(),variables:q},E=null,F=h(r,babelHelpers["extends"]({},D,{onCompleted:function(a){o(a,D,c),n(a),v&&v(a)},onError:function(c){l[B]=function(){if(!l[B]){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",B).warn("Tried to call a create comment mutation retry handle that was already removed.");return}F&&F.dispose();F=null;m(babelHelpers["extends"]({},a,{retryID:B}));delete l[B]},F=i(r,babelHelpers["extends"]({},D,{optimisticResponse:p(u,B,s),optimisticUpdater:C(c)})),w&&w(c)},updater:function(a){__p&&__p();var c=a.getRootField("comment_create");c||g(0,457);c=c.getLinkedRecord("feedback_comment_edge");c||g(0,458);var d=c.getLinkedRecord("node");d||g(0,459);d.setValue(!0,"is_locally_composed");d.setValue(A,"client_id");b("displayCommentsConnectionCountUpdater").increment({feedbackId:u.feedback_id,feedbackSource:t,store:a,topLevelFeedbackId:x});d=a.get(u.feedback_id);d!=null&&y&&y(d,c)}}));return{dispose:function(){E&&E.remove(),E=null,F&&F.dispose(),F=null,delete l[B]}}}function n(a){var c=(a=a.comment_create)==null?void 0:(a=a.survey_primer_attributes)==null?void 0:a.ajaxify;c&&b("Bootloader").loadModules(["AsyncRequest"],function(a){new a(c).send()},"UFI2CreateCommentMutation")}function o(a,c,d){((c=a.comment_create)==null?void 0:c.detection_analytics_enabled)&&b("Bootloader").loadModules(["FBSiteWhiteOps"],function(a){a.log(d,b("TQBotDetection_ProductEnum").FB_WEB_COMMENT,"COMMENT"),a.appendToWindow(d,"FACEBOOK","COMMENT")},"UFI2CreateCommentMutation")}function p(a,c,d){return{comment_create:{feedback_comment_edge:{cursor:null,node:{__typename:"Comment",attachments:[],created_time:Math.round(b("ServerTime").getMillis()/1e3),feedback:{edges:[]},id:c,preferred_body:b("getRenderableBodyFromCommentMessage")(a.message,d),spam_display_mode:"none",timestamp_in_video:(d=(c=a.vod_video_timestamp)!=null?c:a.live_video_timestamp)!=null?d:null}}}}}function a(a){var c=l[a];if(!c){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",a).warn("No comment create mutation retry handler found.");return null}return c}e.exports={commit:m,getRetryFn:a}}),null);
__d("UFI2FeedbackReactMutation",["invariant","Bootloader","FBLogger","FeedbackReactionType","FeedbackSourceType","JSEnumValueToGraphQLKey","RelayModern","RelayRuntime","TQBotDetection_ProductEnum","UFIODSLogger","UFIReactionTypes","UFIVersion","arrayStableSort","setTimeoutAcrossTransitions","uuid","UFI2FeedbackReactMutation_feedback.graphql","UFI2FeedbackReactMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=b("RelayRuntime").ConnectionHandler,j=b("RelayRuntime").applyOptimisticMutation,k=b("UFIReactionTypes").ordering,l=2,m=3e3,n=b("JSEnumValueToGraphQLKey")(b("FeedbackSourceType"),b("FeedbackSourceType").NEWS_FEED);({feedback:function(){return b("UFI2FeedbackReactMutation_feedback.graphql")}});var o=function(){return b("UFI2FeedbackReactMutation.graphql")};function a(a){__p&&__p();var c=a.actorID,d=a.environment,e=a.feedbackArg,f=a.input,h=a.useDefaultActor;a=f.feedback_source;var i=f.feedback_reaction,j=b("uuid")();j={detection_id:j,device_advertising_id:null,product_id:String(b("TQBotDetection_ProductEnum").FB_WEB_LIKE)};var k=(e=e.associated_video)==null?void 0:e.id;i!==b("FeedbackReactionType").NONE&&k!=null&&b("Bootloader").loadModules(["CreateLivingRoomActionLinkStore","LivingRoomCreationSource"],function(a,b){a.activateLivingRoomCTAForVideo(k,b.FEED_CTA_ON_REACT)},"UFI2FeedbackReactMutation");e={input:babelHelpers["extends"]({},f,{actor_id:c,detection_analytics_data:j,feedback_source:a!=null?b("JSEnumValueToGraphQLKey")(b("FeedbackSourceType"),a):void 0}),useDefaultActor:h};c=function(a){__p&&__p();var c=a.get(f.feedback_id);if(c==null){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",f.feedback_id).warn("UFI2FeedbackReactMutation: Could not find feedback in Relay store.");return}var d=r(a,f.feedback_id,c),e=c.getLinkedRecord("viewer_feedback_reaction_info",{use_default_actor:h}),j=e?e.getValue("key")||0:0;typeof j==="number"||g(0,3027);var k=c.getLinkedRecord("top_reactions",{orderby:["COUNT_DESC","REACTION_TYPE"]});if(!k){var l="client:top_reactions:"+f.feedback_id;k=a.create(l,"TopReactionsConnection")}t(a,k,i,j);if(i===0){if(e!==null){l=d.getValue("count");k=typeof l==="number"?l:1;d.setValue(k-1,"count")}c.setValue(null,"viewer_feedback_reaction_info",{use_default_actor:h})}else{if(e===null){j=d.getValue("count");l=typeof j==="number"?j:0;d.setValue(l+1,"count")}e=s(a,i);c.setLinkedRecord(e,"viewer_feedback_reaction_info",{use_default_actor:h})}k=d.getValue("count_reduced");if(parseInt(k,10).toString()===k){j=d.getValue("count");typeof j==="number"&&d.setValue(j.toString(),"count_reduced")}};j={mutation:o,optimisticUpdater:c,variables:e};return p(d,j,c,0)}function p(a,c,d,e){__p&&__p();var f=h(a,babelHelpers["extends"]({},c,{onCompleted:function(a){q(a,c);a=c==null?void 0:(a=c.variables)==null?void 0:(a=a.input)==null?void 0:a.feedback_source;var d=Math.min(e+1,3);d=""+d+(e>=d?"+":"");a===n&&b("UFIODSLogger").bump("reaction.newsfeed.mutation.attempt."+d,b("UFIVersion").RELAY);b("UFIODSLogger").bump("reaction.mutation.attempt."+d,b("UFIVersion").RELAY)},onError:function(g){f=j(a,babelHelpers["extends"]({},c,{optimisticUpdater:d})),e<l&&b("setTimeoutAcrossTransitions")(function(){f&&f.dispose(),f=p(a,c,d,e+1)},m)}}));return{dispose:function(){f&&f.dispose(),f=null}}}function q(a,c){if((a=a.feedback_react)==null?void 0:a.detection_analytics_enabled){var d=c.variables.input.detection_analytics_data.detection_id;b("Bootloader").loadModules(["FBSiteWhiteOps"],function(a){a.log(d,b("TQBotDetection_ProductEnum").FB_WEB_LIKE,"LIKE"),a.appendToWindow(d,"FACEBOOK","LIKE")},"UFI2FeedbackReactMutation")}}function r(a,c,d){__p&&__p();var e=d.getLinkedRecord("reactors");if(!e){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",c).warn("Expected Feedback record proxy to have a reactors connection");c="client:reactors:"+c;e=a.get(c)||a.create(c,"ReactorsOfContentConnection");e.setValue(0,"count");e.setValue("0","count_reduced");d.setLinkedRecord(e,"reactors")}return e}function s(a,c){__p&&__p();c!==0||g(0,3028);var d="client:reaction_info:"+c,e=a.get(d);if(!e){e=a.create(d,"FeedbackReactionInfo");e.setValue(c,"key");a=b("UFIReactionTypes").reactions[c];a||g(0,3029,c);e.setValue(a.display_name,"localized_name");e.setValue(a.name.toUpperCase(),"reaction_type")}return e}function t(a,c,d,e){__p&&__p();var f=(c.getLinkedRecords("edges")||[]).map(function(a){if(!a)return null;var b=a.getLinkedRecord("node"),c=a.getValue("reaction_count")||0,d=b&&b.getValue("key")||0;typeof c==="number"&&typeof d==="number"||g(0,3027);return b&&c!==0&&d!==0?{count:c,edge:a,key:d}:null}).filter(Boolean);if(e){var h=f.find(function(a){return a.key===e});h&&h.count--}if(d){h=f.find(function(a){return a.key===d});if(!h){var j=s(a,d);a=i.createEdge(a,c,j,"TopReactionsEdge");h={count:0,edge:a,key:d};f.push(h)}h.count++}j=b("arrayStableSort")(f,function(a,b){return b.count-a.count||k.indexOf(a.key)-k.indexOf(b.key)}).filter(function(a){return a.count!==0}).map(function(a){var b=a.edge;a=a.count;b.setValue(a,"reaction_count");return b});c.setLinkedRecords(j,"edges")}e.exports={commit:a}}),null);
__d("UFI2RemovePreviewMutation",["RelayModern","UFI2RemovePreviewMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("UFI2RemovePreviewMutation.graphql")};function a(a,b){var c={comment_id:b.commentID};c={input:babelHelpers["extends"]({},c,{actor_id:b.actorID})};b={comment_delete_attachment:{comment:{attached_story:null,attachments:[],can_viewer_disable_preview:!1,id:b.commentID}}};return g(a,{mutation:h,optimisticResponse:b,variables:c})}e.exports={commit:a}}),null);
__d("UFI2UnhideCommentMutation",["RelayModern","UFI2UnhideCommentMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("UFI2UnhideCommentMutation.graphql")};function a(a,b){return g(a,{mutation:h,optimisticResponse:{comment_unhide:{comment:{id:b.commentId,spam_display_mode:"none"}}},variables:{input:{actor_id:b.actorId,comment_id:b.commentId,feedback_source:b.feedbackSource,site:"www"}}})}e.exports={commit:a}}),null);
__d("getUFI2CommentsPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.labelType,d=a.numCommentsToShow;a=a.numCommentsTotal;switch(c){case"view_one":return g._("View 1 comment");case"view_more":return g._("View more comments");case"view_one_more":return g._("View 1 more comment");case"view_more_explicit":return g._({"*":{"*":"View {count} more comments","_1":"View {count} more comment"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_previous":return g._("View previous comments");case"view_previous_explicit":return g._({"*":{"*":"View {count} previous comments","_1":"View {count} previous comment"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_all":default:return g._({"*":"View all {count} comments"},[g._param("count",b("NumberFormat").formatInteger(a),[0,a])])}}e.exports=a}),null);
__d("UFI2ViewOption",[],(function(a,b,c,d,e,f){"use strict";a={isChronologicalOrder:function(a){switch(a){case"RECENT_ACTIVITY":case"RANKED_THREADED":case"RANKED_UNFILTERED":case"LIVE_STREAMING":return!1}return!0}};e.exports=a}),null);
__d("getUFI2RepliesPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.labelType,d=a.numCommentsToShow;a=a.numCommentsTotal;switch(c){case"view_one":return g._("View 1 reply");case"view_more":return g._("View more replies");case"view_one_more":return g._("View 1 more reply");case"view_more_explicit":return g._({"*":{"*":"View {count} more replies","_1":"View {count} more reply"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_previous":return g._("View previous replies");case"view_previous_explicit":return g._({"*":{"*":"View {count} previous replies","_1":"View {count} previous reply"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_all":default:return g._({"*":"View all {count} replies"},[g._param("count",b("NumberFormat").formatInteger(a),[0,a])])}}e.exports=a}),null);
__d("getUFI2PagerLabel",["invariant","UFI2ViewOption","getUFI2CommentsPagerLabel","getUFI2RepliesPagerLabel"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){__p&&__p();var c=a.Selectors,d=a.depth,e=a.direction,f=a.listState,g=a.pageSize,h=a.pagerCount,i=a.totalCount;a=a.viewOption;var j=c.getVisibleCommentsCount({depth:d,state:f});c=c.hasLastPageLeftInDirection({depth:d,direction:e,pageSize:g,state:f,totalCount:i});f=b("UFI2ViewOption").isChronologicalOrder(a);i=(f&&e==="backward"||!f&&e==="forward")&&d===0;if(j===0)return h===1?"view_one":"view_all";else if(c&&h<=g)if(h===1)return"view_one_more";else return"view_more_explicit";if(i)return"view_more";else return"view_previous"}function a(a){var c=a.Selectors,d=a.depth,e=a.direction,f=a.listState,i=a.totalCount,j=c.isPagerVisible({depth:d,direction:e,state:f});if(!j)return null;j=c.getPagerCount({depth:d,direction:e,state:f});j!=null||g(0,4513);c=h(babelHelpers["extends"]({},a,{pagerCount:j}));e=d>0;return e?b("getUFI2RepliesPagerLabel")({labelType:c,numCommentsToShow:j,numCommentsTotal:i}):b("getUFI2CommentsPagerLabel")({labelType:c,numCommentsToShow:j,numCommentsTotal:i})}e.exports=a}),null);
__d("UFI2FeedbackCommentReactSubscription",["RelayModern","UFI2FeedbackSubscriptionTopicProvider","UFI2FeedbackCommentReactSubscription_feedback.graphql","UFI2FeedbackCommentReactSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("RelayModern").graphql;var g=b("RelayModern").requestSubscription;({feedback:function(){return b("UFI2FeedbackCommentReactSubscription_feedback.graphql")}});var h=function(){return b("UFI2FeedbackCommentReactSubscription.graphql")};b("UFI2FeedbackSubscriptionTopicProvider").registerProvider(h,"gqls/comment_like_subscribe/top_level_feedback_id_");function a(a,c,d,e){b("UFI2FeedbackSubscriptionTopicProvider").addSubscriptionTargetIDForFeedbackID(c.top_level_feedback_id,e);return g(a,{subscription:h,variables:{input:c,useDefaultActor:d}})}e.exports={subscribe:a}}),null);
__d("UFI2FeedbackReactSubscription",["RelayModern","UFI2FeedbackSubscriptionTopicProvider","UFI2FeedbackReactSubscription_feedback.graphql","UFI2FeedbackReactSubscription_liker.graphql","UFI2FeedbackReactSubscription_viewer.graphql","UFI2FeedbackReactSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("RelayModern").graphql;var g=b("RelayModern").requestSubscription;({feedback:function(){return b("UFI2FeedbackReactSubscription_feedback.graphql")}});({liker:function(){return b("UFI2FeedbackReactSubscription_liker.graphql")}});({viewer:function(){return b("UFI2FeedbackReactSubscription_viewer.graphql")}});var h=function(){return b("UFI2FeedbackReactSubscription.graphql")};b("UFI2FeedbackSubscriptionTopicProvider").registerProvider(h,"gqls/feedback_like_subscribe/feedback_id_");function a(a,c,d,e){__p&&__p();b("UFI2FeedbackSubscriptionTopicProvider").addSubscriptionTargetIDForFeedbackID(c.feedback_id,e);return g(a,{subscription:h,updater:function(a,b){__p&&__p();var c,d;c=(c=b.feedback_like_subscribe)==null?void 0:(c=c.liker)==null?void 0:c.id;d=(d=b.feedback_like_subscribe)==null?void 0:(d=d.viewer)==null?void 0:(d=d.actor)==null?void 0:d.id;if(c!==d){b=(c=b.feedback_like_subscribe)==null?void 0:(d=c.feedback)==null?void 0:d.id;if(b){c=a.get(b);c&&c.setValue(!0,"is_unseen")}}},variables:{input:c,useDefaultActor:d}})}e.exports={subscribe:a}}),null);
__d("UFI2ToggleCommentPermissionSubscription",["RelayModern","UFI2FeedbackSubscriptionTopicProvider","UFI2ToggleCommentPermissionSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;var g=b("RelayModern").requestSubscription,h=function(){return b("UFI2ToggleCommentPermissionSubscription.graphql")};b("UFI2FeedbackSubscriptionTopicProvider").registerProvider(h,"gqls/feedback_comment_permission_toggle_subscribe/feedback_id_");function a(a,c,d,e){b("UFI2FeedbackSubscriptionTopicProvider").addSubscriptionTargetIDForFeedbackID(c.feedback_id,e);return g(a,{subscription:h,variables:{input:c,useDefaultActor:d}})}e.exports={subscribe:a}}),null);
__d("RelayUFI2Environment",["invariant","ActorURIConfig","FBLogger","PinnedCommentEventsConnectionHandler","RelayAPIConfig","RelayFBOperationLoader","RelayRuntime","VideoTimestampedCommentsConnectionHandler","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","resolveImmediate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayRuntime").ConnectionHandler,i=b("RelayRuntime").Environment;c=b("RelayRuntime").Observable;var j=b("RelayRuntime").QueryResponseCache,k=b("RelayRuntime").RecordSource,l=b("RelayRuntime").Store,m=b("RelayRuntime").ViewerHandler,n=10,o=5*60*1e3,p={};c.onUnhandledError(function(a,c){var d=b("FBLogger")("ufi2");a instanceof Error&&d.catching(a);c?d.mustfix("Observable had an uncaught error"):d.warn("Observable had an error")});a(b("RelayAPIConfig").actorID);function q(a){switch(a){case"connection":return h;case"viewer":return m;case"video_timestamped_comments":return b("VideoTimestampedCommentsConnectionHandler");case"pinned_comment_events":return b("PinnedCommentEventsConnectionHandler")}g(0,11762,a)}function a(a){__p&&__p();if(!Object.prototype.hasOwnProperty.call(p,a)){var c=new j({size:n,ttl:o});c=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")({getAdditionalData:function(){var c;return c={},c[b("ActorURIConfig").PARAMETER_ACTOR]=a,c},queryResponseCache:c}),b("createRelayFBSubscribeFunction")({queryResponseCache:c}));var d=new k();d=new l(d,b("resolveImmediate"),b("RelayFBOperationLoader"));p[a]=new i({configName:"RelayUFI2Environment(actor:"+String(a)+")",handlerProvider:q,network:c,operationLoader:b("RelayFBOperationLoader"),store:d})}return p[a]}e.exports={forActor:a}}),null);
__d("UFI2AbstractButtonWrapper.react",["requireCond","cr:829648"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:829648")}),null);
__d("UFI2ActiveLayerMonitor",["ErrorUtils","Parent","SubscriptionsHandler","UserActivity","getDocumentScrollElement"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h=!1,i=b("getDocumentScrollElement")(),j=[],k;function l(a){h=!0;j.push.apply(j,g);while(j.length){var c=j.shift();b("ErrorUtils").applyWithGuard(c,null,[a],null,"UFI2ActiveLayerMonitor")}h=!1}function m(a){i!==a&&(i=a,l(a))}a={getLastActiveLayer:function(){return i},subscribe:function(a){__p&&__p();g.push(a);h&&j.push(a);k==null&&(k=new(b("SubscriptionsHandler"))(),k.addSubscriptions(b("UserActivity").subscribe(function(a,c){a=c.event;m(b("Parent").byClass(a.target,"uiLayer")||b("getDocumentScrollElement")())})));var c=!1;return{remove:function(){__p&&__p();if(c)return;var b=g.indexOf(a);b!==-1&&g.splice(b,1);if(h){b=j.indexOf(a);b!==-1&&j.splice(b,1)}g.length===0&&(k&&(k.release(),k=null));c=!0}}}};e.exports=a}),null);
__d("UFI2LocalUserAction",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("EventEmitter"))()}),null);
__d("UFI2PrimerDialogWrapper.react",["requireCond","cr:828359"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:828359")}),null);
__d("UFI2ScaleRect",["invariant","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){return h(a,!0)}function c(a){return h(a,!1)}function h(a,c){__p&&__p();var d=a.srcHeight,e=a.srcWidth,f=a.maxHeight,h=a.maxWidth;a=a.gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero;!1===a?(d>0||g(0,5272,d),e>0||g(0,5273,e)):(d===0||e===0)&&b("FBLogger")("ufi2").warn("Scaling UFI2 rect with invalid zero height or width: height=%s / width=%s",String(d),String(e));f>0||g(0,5274,f);h>0||g(0,5275,h);d=a&&d===0?f:d;a=a&&e===0?h:e;e=h/a;h=f/d;f=c?Math.min(e,h):Math.min(e,h,1);return{height:Math.round(d*f),width:Math.round(a*f)}}e.exports={scaleToContain:a,shrinkToContain:c}}),null);
__d("UFI2SubscriptionManager",["cancelIdleCallback","requestIdleCallbackAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1=new Set(),this.$2=new Set(),this.$3=!1}a.prototype.add=function(a){this.$1.add(a);this.$3&&a.subscribe();return{dispose:function(){a.unsubscribe(),this.$1&&this.$1["delete"](a)}.bind(this)}};a.prototype.subscribeAll=function(){__p&&__p();if(!this.$3){this.$3=!0;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.subscribe()}}};a.prototype.subscribeAllOnIdle=function(){__p&&__p();var a=this;if(!this.$3){this.$3=!0;var c=function(){__p&&__p();if(e){if(f>=d.length)return"break";g=d[f++]}else{f=d.next();if(f.done)return"break";g=f.value}var c=g,h=null;h=b("requestIdleCallbackAcrossTransitions")(function(){h!=null&&(this.$2["delete"](h),h=null),this.$3&&c.subscribe()}.bind(a));a.$2.add(h)};for(var d=this.$1,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g,h=c();if(h==="break")break}}};a.prototype.unsubscribeAll=function(){__p&&__p();if(this.$3){this.$3=!1;for(var a=this.$2,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b("cancelIdleCallback")(e)}for(var e=this.$1,d=Array.isArray(e),c=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(c>=e.length)break;a=e[c++]}else{c=e.next();if(c.done)break;a=c.value}a=a;a.unsubscribe()}}};a.prototype.reset=function(){this.unsubscribeAll(),this.$1=new Set()};e.exports=a}),null);
__d("UFI2UserActivityIdleTimeout",[],(function(a,b,c,d,e,f){"use strict";e.exports=3e4}),null);
__d("UFI2UserActivityMonitor",["ErrorUtils","Event","SubscriptionsHandler","UFI2UserActivityIdleTimeout","UserActivity","Visibility","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h,i=!1,j=b("UserActivity").isOnTab()&&b("UserActivity").isActive(b("UFI2UserActivityIdleTimeout"))?"ACTIVE":"INACTIVE",k=[],l;function m(a){i=!0;k.push.apply(k,g);var c=function(){var c=k.shift();b("ErrorUtils").applyWithGuard(function(){return c(a)},null,null,null,"UFI2UserActivityMonitor")};while(k.length)c();i=!1}function n(a){b("clearTimeout")(h),a>0&&(h=b("setTimeoutAcrossTransitions")(function(){o("INACTIVE")},a))}function o(a){j!==a&&m(a),j=a}a={getActivityState:function(){return b("UserActivity").isOnTab()&&b("UserActivity").isActive(b("UFI2UserActivityIdleTimeout"))?"ACTIVE":"INACTIVE"},subscribe:function(a){__p&&__p();g.push(a);i&&k.push(a);l==null&&(n(Math.max(0,b("UFI2UserActivityIdleTimeout")-(Date.now()-b("UserActivity").getLastActive()))),l=new(b("SubscriptionsHandler"))(),l.addSubscriptions(b("UserActivity").subscribe(function(a,c){a=c.event;if(/^mouse(enter|leave|move|over|out)$/.test(a.type)&&b("UserActivity").isOnTab()===!1)return;o("ACTIVE");n(Math.max(0,b("UFI2UserActivityIdleTimeout")-(Date.now()-b("UserActivity").getLastActive())))}),b("Event").listen(window,"blur",function(){o("INACTIVE"),b("clearTimeout")(h)}),b("Visibility").addListener(b("Visibility").HIDDEN,function(){o("INACTIVE"),b("clearTimeout")(h)})));var c=!1;return{remove:function(){__p&&__p();if(c)return;var d=g.indexOf(a);d!==-1&&g.splice(d,1);if(i){d=k.indexOf(a);d!==-1&&k.splice(d,1)}g.length===0&&(b("clearTimeout")(h),l&&(l.release(),l=null));c=!0}}}};e.exports=a}),null);
__d("getMutationTrackingPropertyFromTrackingData",["URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){a=a(["ft"]);a=a==null?void 0:a.ft;var c=b("URI").getMostRecentURI().getQueryData(),d=c.notif_id;c=c.notif_t;d=d!=null?{alert_id:d,notif_source:"notif_jewel",notif_type:c}:null;c=a!=null||d!=null?babelHelpers["extends"]({},a,d):null;return c?[JSON.stringify(c)]:null}e.exports=a}),null);
__d("getCommentCreateMutationPropertiesFromTrackingData",["getMutationTrackingPropertyFromTrackingData","getReferrerURI"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("getReferrerURI")();return{feedback_referrer:c?c.getPath():void 0,tracking:b("getMutationTrackingPropertyFromTrackingData")(a)}}e.exports=a}),null);
__d("getFBTSafeGenderFromDisplayGender",["DisplayGenderConst","IntlVariations"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return b("IntlVariations").GENDER_UNKNOWN;switch(a){case b("DisplayGenderConst").MALE:return b("IntlVariations").GENDER_MALE;case b("DisplayGenderConst").FEMALE:return b("IntlVariations").GENDER_FEMALE;default:return b("IntlVariations").GENDER_UNKNOWN}}e.exports=a}),null);
__d("getSharedStopwatch",["invariant","UFIStopWatch","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={};function a(a){__p&&__p();var c=b("uuid")();if(h[a]==null){var d=new(b("UFIStopWatch"))();h[a]={runningClientMap:{},stopwatch:d,totalClients:0}}h[a].totalClients+=1;var e=!1;function f(){e===!1||g(0,6067)}var i={dispose:function(){if(e)return;i.pause();h[a].totalClients-=1;h[a].totalClients===0&&delete h[a];e=!0},getMilliseconds:function(){f();return h[a].stopwatch.milliseconds()},isRunning:function(){f();return h[a].stopwatch.state()===b("UFIStopWatch").COUNTING},isSharedWithOtherClients:function(){f();return h[a].totalClients>1},pause:function(){f(),delete h[a].runningClientMap[c],Object.keys(h[a].runningClientMap).length===0&&h[a].stopwatch.pause()},start:function(){f(),h[a].runningClientMap[c]=!0,h[a].stopwatch.start()}};return i}e.exports=a}),null);
__d("getUFI2SelectorOptionFromViewOption",["fbt","FBLogger"],(function(a,b,c,d,e,f,g){__p&&__p();e.exports=function(a){__p&&__p();var c,d;switch(a){case"TOPLEVEL":c=g._("Oldest");d=g._("Comments shown in chronological order with the oldest comments at the top.");break;case"RANKED_THREADED":c=g._("Most Relevant");d=g._("Comments from friends and those with the most views, reactions, replies and more appear at the top.");break;case"RANKED_UNFILTERED":c=g._("All Comments");d=g._("All comments, including comments in foreign languages and potential spam are shown.");break;case"RECENT_ACTIVITY":c=g._("New");d=g._("New comments and those with new replies appear at the top.");break;case"LIVE_STREAMING":c=g._("Realtime Comments");d=g._("Comments shown at the moment when they appeared in the video.");break;case"SUPPORTERS_COMMENTS":c=g._("Supporter Comments");d=g._("Comments from supporters");break;case"CHRONOLOGICAL":case"FEATURED":case"SURVEY_GALLERY":default:b("FBLogger")("ufi2").mustfix("Translation missing for WebCommentViewOption `%s`.",a);return null}return{description:d,name:c,value:a}}}),null);
__d("getViewportViewDurationPropertiesFromTrackingData",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;a=a(["ft"],["data-referrer"]);return{isPageComment:(a==null?void 0:(b=a.ft)==null?void 0:b.page_id)!=null,isSponsored:!!(a==null?void 0:(b=a.ft)==null?void 0:b.is_sponsored),mfStoryKey:(a==null?void 0:(b=a.ft)==null?void 0:b.mf_story_key)||void 0,pageInsights:(a==null?void 0:(b=a.ft)==null?void 0:b.page_insights)||void 0,qid:(a==null?void 0:(b=a.ft)==null?void 0:b.qid)||void 0,referrerSource:(a==null?void 0:(b=a.normal)==null?void 0:b["data-referrer"])||void 0}}e.exports=a}),null);
__d("interpolateUFI2TextWithRange",["cx","fbt","FBLogger","React","RelayModern","TextDelightRange.react","TextDelightSurface","UFI2CommentBodyTextWithEntitiesConfig","UFI2LinkWrapper.react","UFI2ProfileLink.react","UFI2VideoTimeIndexLink.react","URI","URITruncator","isFacebookURI","isLinkshimURI","isRTL","nullthrows","interpolateUFI2TextWithRange_textWithEntities.graphql","interpolateUFI2TextWithRange_delightRange.graphql","interpolateUFI2TextWithRange_range.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();b("RelayModern").graphql;({textWithEntities:function(){return b("interpolateUFI2TextWithRange_textWithEntities.graphql")}});({delightRange:function(){return b("interpolateUFI2TextWithRange_delightRange.graphql")}});({range:function(){return b("interpolateUFI2TextWithRange_range.graphql")}});function i(a){if(a.url==null)return null;a=new(b("URI"))(a.url);b("isFacebookURI")(a)&&!b("isLinkshimURI")(a)&&a.addQueryData({hc_location:"ufi"});return a}function a(a,c){__p&&__p();switch(c.__typename){case"DelightAtRange":var d=b("nullthrows")(c.campaign,"Expected a `campaign` property to be present on a range of type `DelightAtRange`.");return b("React").createElement(b("TextDelightRange.react"),{campaignID:d.id,delightStyles:d.delight_styles.map(function(a){return{style:a.style,value:a.value}}),surface:b("TextDelightSurface").COMMENT},a);case"EntityAtRange":d=b("nullthrows")(c.entity,"Expected an `entity` property to be present on a range of type `EntityAtRange`.");var e=i(d);switch(d.__typename){case"ExternalUrl":var f=b("URITruncator")(a,b("UFI2CommentBodyTextWithEntitiesConfig").uriTruncationThreshold);if(e)return b("React").createElement(b("UFI2LinkWrapper.react"),{dir:b("isRTL")(a)?"rtl":null,href:e,s:d.can_skip_redirect?"1":void 0,target:"_blank"},f);else return f;case"Hashtag":if(e)return b("React").createElement(b("UFI2LinkWrapper.react"),{className:"_3l3r",dir:b("isRTL")(a)?"rtl":null,href:e},b("React").createElement("span",{"aria-label":h._("hashtag"),className:"_3l3v"},a.substring(0,1)),b("React").createElement("span",{className:"_3l3w"},a.substring(1)));else return a;case"VideoTimeIndex":f=d.time_index;var g=d.video;g=g==null?void 0:g.id;if(g==null){b("FBLogger")("video").warn("When trying to render a link to a time index of a video the video id was missing. Investigate why the query failed to materialize the video id.");return a}if(f==null){b("FBLogger")("video").warn("When trying to render a link to a time index of a video the time index was missing. Investigate why the query failed to materialize the time index.");return a}return b("React").createElement(b("UFI2VideoTimeIndexLink.react"),{text:a,timeIndex:f,videoId:g});default:f=c.entity_is_weak_reference;if(e)return b("React").createElement(b("UFI2ProfileLink.react"),{className:f?"_2-5h":"",dir:b("isRTL")(a)?"rtl":null,href:String(e),uid:d.id||""},a);else return a}default:return a}}e.exports=a}),null);
__d("isCommentFresh",["RelayModern","isCommentFresh_comment.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;({comment:function(){return b("isCommentFresh_comment.graphql")}});function a(a){return a.is_locally_composed===!0||a.is_created_from_subscription===!0}e.exports=a}),null);
__d("isStandaloneEmoji",["EmojiRenderer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=14,h=3;function a(a){if(!a||a.length>g*h)return!1;var c=b("EmojiRenderer").parse(a);if(!c)return!1;var d=0;c.forEach(function(a){d+=a.length});return a.length==d&&c.length<=h}e.exports=a}),null);
__d("logCommentViewportViewDuration",["Banzai","gkx"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.commentID,d=a.isLivePinnedComment,e=a.isPageComment,f=a.isReply,g=a.isSponsored,h=a.mfStoryKey,i=a.milliseconds,j=a.pageInsights,k=a.qid,l=a.referrerSource;a=a.storyRenderLocation;if(i<100)return;a=babelHelpers["extends"]({container_module:a,duration_ms:i,is_live_pinned_comment:d,is_on_sponsored_story:g,is_page_comment:e,is_reply:f},h!=null?{mf_story_key:h}:null,{node_token:c},j!=null?{page_insights:j}:null,k!=null?{qid:k}:null,l!=null?{referrer_source:l}:null);b("Banzai").post("comment_vpvd",a)}e.exports=a}),null);
__d("RelayPreloadedQueryRenderer.react",["FBLogger","PreloadedRelayQueryRendererContext","React","RelayModern"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("PreloadedRelayQueryRendererContext").Consumer,i=b("RelayModern").QueryRenderer;function j(a){if(!a)return"Null Query";else if(typeof a==="function")return k(a());else if(a.modern)return k(a.modern());return"Unknown Query"}function k(a){return a.kind==="Request"?a.params.name:a.name}c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.hasRendered=!1,this.enforcedRenderer=function(a){var c=this.props,d=c.query;c=c.render;if(!this.hasRendered){var e=a.error!=null||a.props!=null;e||b("FBLogger")("enforcePreloadedQueryRenderer").mustfix("Failed to find preloaded query %s cache results.",j(d));this.hasRendered=!0}return c(a)}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.query,d=a.cacheConfig,e=babelHelpers.objectWithoutPropertiesLoose(a,["query","cacheConfig"]),f=d?d.metadata:{};return b("React").createElement(h,null,function(a){if(a==null){b("FBLogger")("enforcePreloadedQueryRenderer").mustfix("Failed to get preloaded query (%s) variables.",j(c));return null}else return b("React").createElement(i,babelHelpers["extends"]({},e,{cacheConfig:babelHelpers["extends"]({metadata:babelHelpers["extends"]({prefetchedResponseProvider:a.getPrefetchedResponseCache()},f)},d),query:c,render:this.enforcedRenderer,variables:a.getQueryVariables()}))}.bind(this))};e.exports=a}),null);
__d("onAttachedToDOM",["ErrorUtils","containsNode","killswitch"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function c(){__p&&__p();var a=new Map(),c=new MutationObserver(d);function d(c){c.some(function(c){return Array.from(c.addedNodes).some(function(c){a.forEach(function(a,d){b("containsNode")(c,d)&&a.forEach(function(a){g(d,a),b("ErrorUtils").applyWithGuard(a)})});return a.size===0})})}function e(a){return b("containsNode")(document.documentElement,a)}function f(b,d){a.size===0&&c.observe(document,{childList:!0,subtree:!0});var e=a.get(b);e==null&&(e=[],a.set(b,e));e.push(d)}function g(b,d){var e=a.get(b);if(e){d=e.indexOf(d);d!==-1&&e.splice(d,1);e.length===0&&a["delete"](b);a.size===0&&c.disconnect()}}return function(a,b){__p&&__p();if(e(a)){b();return{remove:function(){}}}f(a,b);var c=!1;return{remove:function(){if(c)return;c=!0;g(a,b)}}}}b("killswitch")("ON_ATTACHED_TO_DOM_HELPER")||a.MutationObserver==null?e.exports=null:e.exports=c()}),null);
__d("FlexibleBlock.react",["cx","invariant","LeftRight.react","React","keyMirror"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("keyMirror")({left:!0,right:!0});function k(a){a.flex&&a.flex in l.FLEX||h(0,613),a.children&&a.children.length===2||h(0,614)}i=babelHelpers.inherits(l,b("React").Component);i&&i.prototype;l.prototype.render=function(){"use strict";k(this.props);var a,c=this.props,d=c.flex;c=babelHelpers.objectWithoutPropertiesLoose(c,["flex"]);var e=this.props.children[0],f=this.props.children[1];d=d==j.left;d?(e=e,a=b("LeftRight.react").DIRECTION.right):(e=f,a=b("LeftRight.react").DIRECTION.left);f=b("React").createElement("div",{className:"_42ef"},e);return b("React").createElement(b("LeftRight.react"),babelHelpers["extends"]({},c,{direction:a}),d?f:this.props.children[0],d?this.props.children[1]:f)};function l(){"use strict";i.apply(this,arguments)}l.FLEX=j;e.exports=l}),null);
__d("relay-experimental/MatchContainer",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useMemo;function a(a){__p&&__p();var c=a.fallback,d=a.loader,e=a.match;a=a.props;if(e!=null&&typeof e!=="object")throw new Error("MatchContainer: Expected `match` value to be an object or null/undefined.");e=(e=e)!=null?e:{};var f=e.__id,h=e.__fragments,i=e.__fragmentOwner,j=e.__fragmentPropName,k=e.__module_component;if(i!=null&&typeof i!=="object"||j!=null&&typeof j!=="string"||h!=null&&typeof h!=="object"||f!=null&&typeof f!=="string")throw new Error("MatchContainer: Invalid 'match' value, expected an object that has a '...SomeFragment' spread.");e=g(function(){return k!=null?d(k):null},[JSON.stringify(k)]);var l=g(function(){if(j!=null&&f!=null&&h!=null){var a={};a[j]={__id:f,__fragments:h,__fragmentOwner:i};return a}return null},[f,h,i,j]);if(e!=null&&l!=null)return b("React").createElement(e,babelHelpers["extends"]({},a,l));else{return(e=c)!=null?e:null}}e.exports=a}),null);
__d("RelayFBMatchContainer",["invariant","React","RelayFBPromiseSerializer","relay-experimental/MatchContainer","replaceTransportMarkers"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayFBPromiseSerializer").serialize;function i(c){(c==null||typeof c!=="object")&&g(0,13640,c);c={module:babelHelpers["extends"]({},c)};b("replaceTransportMarkers")({relativeTo:null},c,"module");var a=c.module.getModuleIfRequired();if(a==null)throw h(c.module.load());return a}function a(a){var c=a.fallback,d=a.match;a=a.props;return b("React").createElement(b("relay-experimental/MatchContainer"),{fallback:c,loader:i,match:d,props:a})}e.exports=a}),null);
__d("deferredLoadComponent",["Promise","react"],(function(a,b,c,d,e,f){__p&&__p();var g={},h={};function a(a){__p&&__p();var c,d=a.getModuleId();function f(){var f=h[d];f||(f=h[d]=new(b("Promise"))(function(b){a.loadImmediately(function(a){delete h[d],c=a,b()})}));return f}function i(){var f=g[d];f||(f=g[d]=new(b("Promise"))(function(b){a.onReady(function(a){c=a,delete g[d],b()})}));return f}function j(d){var e=d.loadImmediately;d=babelHelpers.objectWithoutPropertiesLoose(d,["loadImmediately"]);if(!c){c=a.getModuleIfRequired();if(!c)throw e===!0?f():i()}return b("react").createElement(c,d)}j.displayName="deferredLoadComponent("+a.getModuleId()+")";return j}e.exports=a}),null);
__d("XArticleContextMainDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/article_context/dialog/",{share_id:{type:"FBID",required:!0},entry_type:{type:"Enum",required:!0,enumType:1},trigger_log_id:{type:"String"},ft_msg:{type:"String"},__asyncDialog:{type:"Int"}})}),null);
__d("XUFI2FetchCommentShareAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/attachment/",{request_id:{type:"String",required:!0},comment_id:{type:"String",required:!0},feedback_source:{type:"Int",required:!0}})}),null);
__d("XViewSharesPermalinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/shares/view/",{id:{type:"Int",required:!0}})}),null);