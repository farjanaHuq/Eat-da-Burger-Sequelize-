if (self.CavalryLogger) { CavalryLogger.start_js(["wX5Xs"]); }

__d("OzDashPrefetchCache",["VideoDashPrefetchCache"],(function(a,b,c,d,e,f){"use strict";a.prototype.hasCacheValue=function(a){return b("VideoDashPrefetchCache").hasCacheValue(a)};a.prototype.getCacheValue=function(a){return b("VideoDashPrefetchCache").getCacheValue(a)};a.prototype.getCachedRepresentations=function(a){return null};function a(){}e.exports=a}),null);
__d("OzMosThresholdRestriction",["MosUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){this.$4=new Map(),this.$1=a,this.$2=b,this.$3=c}a.prototype.$5=function(a,c){var d=null;if(this.$4.get(a))d=this.$4.get(a);else{var e=a.getCustomField("playbackResolutionMos");e!=null&&(d=b("MosUtils").parsePlaybackMos(String(e)),d&&this.$4.set(a,d))}return d!=null?b("MosUtils").getMosValue(d,b("MosUtils").getQualityLabel(c.width,c.height)):null};a.prototype.$6=function(a,b){var c=a.some(function(a){a=this.$5(a,b);return a!=null?a>this.$2&&a<this.$1:!1}.bind(this));return!c?a:a.filter(function(a){a=this.$5(a,b);return a!=null?a<=this.$1:!0}.bind(this))};a.prototype.$7=function(a,b){var c=null;a.forEach(function(a){a=this.$5(a,b);a!=null&&a>this.$1&&(c==null||c>a)&&(c=a)}.bind(this));return c==null?a:a.filter(function(a){a=this.$5(a,b);return a==null?!0:a<=this.$1||a===c}.bind(this))};a.prototype.applyRestriction=function(a,b){return a.length===0?[]:this.$3?this.$7(a,b):this.$6(a,b)};e.exports=a}),null);
__d("oz-player/configs/OzGlobalConfig",[],(function(a,b,c,d,e,f){"use strict";var g=null;a={getBool:function(a,b){return g?g.getBool(a,b):b},getNumber:function(a,b){return g?g.getNumber(a,b):b},getString:function(a,b){return g?g.getString(a,b):b},setGlobalConfig:function(a){g=a}};e.exports=a}),null);
__d("oz-player/networks/OzBandwidthUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var b=0;for(var c=0;c<a.length;c++)b+=a[c].bytes*8e3/a[c].timeInMs;return b/a.length}function h(a){var b=g(a),c=0;for(var d=0;d<a.length;d++)c+=Math.pow(a[d].bytes*8e3/a[d].timeInMs-b,2);return Math.round(Math.sqrt(c/a.length))}function i(a,b){b=Math.exp(Math.log(.5)/b);var c=0,d=0;for(var e=0;e<a.length;e++){var f=Math.pow(b,a[e].weight);c=a[e].value*(1-f)+c*f;d+=a[e].weight}return Math.round(c/(1-Math.pow(b,d)))}function j(a,b){return i(a.map(function(a){return{value:a.bytes*8e3/a.timeInMs,weight:a.timeInMs/1e3}}),b)}function k(a,b){var c=g(a),d=[];for(var e=0;e<a.length;e++)Math.abs(c-a[e].bytes*8e3/a[e].timeInMs)<b&&d.push(a[e]);return d}function a(a,b,c,d){var e=h(a);a=k(a,e*c);c=j(a,b);return c-e*d}e.exports={getBandwidthEstimate:a,getExponentiallyWeightedMovingAverage:i,getExponentiallyWeightedMovingAverageOfBandwidth:j,getStandardDeviationOfBandwidth:h,getMeanBandwidth:g,getBandwidthSamplesWithinRangeOfMean:k}}),null);
__d("oz-player/networks/OzBandwidthEstimator",["oz-player/configs/OzGlobalConfig","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/shims/OzBandwidthCache","oz-player/shims/OzEventEmitter","oz-player/networks/OzBandwidthUtils","oz-player/networks/OzNetworkRequestStreamBandwidthReporter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("oz-player/networks/OzBandwidthUtils").getBandwidthEstimate,i=b("oz-player/networks/OzBandwidthUtils").getExponentiallyWeightedMovingAverage,j=b("oz-player/networks/OzBandwidthUtils").getExponentiallyWeightedMovingAverageOfBandwidth,k=b("oz-player/networks/OzBandwidthUtils").getStandardDeviationOfBandwidth,l=.9,m=5e5,n=2e4;c=babelHelpers.inherits(a,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function a(){g.constructor.call(this),this.$OzBandwidthEstimator1=[],this.$OzBandwidthEstimator2=[],this.$OzBandwidthEstimator3=new(b("oz-player/shims/OzBandwidthCache"))(function(){return this.getAdjustedBandwidth(b("oz-player/configs/OzGlobalConfig"))}.bind(this))}a.prototype.getBandwidth=function(a){var b=h(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_half_life",6),a.getNumber("bandwidth_estimator_outlier_exclusion_factor",2),a.getNumber("bandwidth_estimator_std_dev_penalty_factor",.1));return b>0?b:this.$OzBandwidthEstimator4(a)};a.prototype.getEstimatedTimeToFirstByteMs=function(a){return this.$OzBandwidthEstimator2.length>0?i(this.$OzBandwidthEstimator2.map(function(a){return{value:a,weight:1}}),a.getNumber("time_to_first_byte_estimate_half_life_ms",500)):null};a.prototype.$OzBandwidthEstimator4=function(a){var b=m;if(a.getBool("use_cached_bandwidth",!1)){a=this.$OzBandwidthEstimator3.getCachedBandwidth();typeof a==="number"&&a>0&&(b=a)}return b};a.prototype.getStandardDeviationOfBandwidth=function(){return k(this.$OzBandwidthEstimator1)};a.prototype.getSampleCount=function(){return this.$OzBandwidthEstimator1.length};a.prototype.getAdjustedBandwidth=function(a){if(this.$OzBandwidthEstimator1.length===0)return this.$OzBandwidthEstimator4(a);var b=a.getNumber("bandwidth_estimator_variance_penalty_half_life",0)>0?this.$OzBandwidthEstimator5(a):this.$OzBandwidthEstimator6(a);return this.$OzBandwidthEstimator7(a,b)};a.prototype.$OzBandwidthEstimator7=function(a,c){var d=Math.max(0,b("oz-player/networks/OzStreamingTaskQueueProvider").getQueue("video").getLength()-a.getNumber("bandwidth_penalty_additional_video_start",0));a=a.getNumber("bandwidth_penalty_per_additional_video",0);d=Math.min(l,d*a);return c*(1-d)};a.prototype.$OzBandwidthEstimator5=function(a){var b=j(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_half_life",6)),c=j(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_variance_penalty_half_life",0));a=c<b?a.getNumber("bandwidth_estimator_variance_penalty_down_factor",0):a.getNumber("bandwidth_estimator_variance_penalty_up_factor",0);c=Math.abs(b-c)*a;return b-c};a.prototype.$OzBandwidthEstimator6=function(a){return this.getBandwidth(a)};a.prototype.pipeThroughReporter=function(a,c,d){return{startStream:function(e){var f=new(b("oz-player/networks/OzNetworkRequestStreamBandwidthReporter"))({stream:c,loggerProvider:d,byteCountPerSample:a.getNumber("byte_count_per_sample",n),minimumBytesToSampleOnClose:a.getNumber("minimum_bytes_to_sample_on_close",0),minimumSampleDuration:a.getNumber("minimum_bandwidth_sample_duration",0),maximumSampleBandwidth:a.getNumber("maximum_bandwidth_sample_bandwidth",999999999),usePerformanceEntryOnClose:a.getBool("use_performance_entry_on_stream_close",!1),ignoreTimeToResponseStart:a.getBool("ignore_time_to_response_start",!1)});f.onBandwidthSample(this.$OzBandwidthEstimator8.bind(this));f.onTimeToFirstByteMsSample(this.$OzBandwidthEstimator9.bind(this));return c.startStream(e).then(function(b){return c.retrievedFromCache()&&a.getBool("exclude_prefetch_bandwidth_samples",!1)?b:b.pipeThrough(f.getTransformStream())})}.bind(this)}};a.prototype.$OzBandwidthEstimator8=function(a,c){this.$OzBandwidthEstimator1.push({bytes:a,timeInMs:c}),this.$OzBandwidthEstimator1.length>b("oz-player/configs/OzGlobalConfig").getNumber("max_bandwidth_sample_count",15)&&this.$OzBandwidthEstimator1.splice(0,1),this.emit("bandwidth_sampled")};a.prototype.$OzBandwidthEstimator9=function(a){this.$OzBandwidthEstimator2.push(a),this.$OzBandwidthEstimator2.length>b("oz-player/configs/OzGlobalConfig").getNumber("max_bandwidth_sample_count",15)&&this.$OzBandwidthEstimator2.splice(0,1)};e.exports=new a()}),null);
__d("RepomenAbrManager",["oz-player/networks/OzBandwidthEstimator","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzAbrUtils").excludeLargeRepresentations,h=b("oz-player/utils/OzAbrUtils").getReasonToPreventEvaluation,i=b("oz-player/utils/OzBufferingUtils").getBufferAheadFromPlaybackStates,j=b("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions;function a(a,b,c,d,e,f,g){this.$2=0,this.$3=Date.now(),this.$4=!1,this.$12=null,this.$1=a,this.$5=b,this.$6=c,this.$7=d,this.$8=e,this.$10=f,this.$13=g}a.prototype.setSourceBuffer=function(a){this.$9=a};a.prototype.getBestRepresentation=function(){__p&&__p();var a=i(this.$9,this.$8),c=h(this.$1,this.$4,a,b("oz-player/networks/OzBandwidthEstimator").getSampleCount(),this.$2,this.$3);if(c!==null&&c!==void 0){this.$12=c;return this.$5}c=Date.now();this.$2=c;var d=this.$10.getDimensions(),e=g(this.$1,this.$6,d,this.$13);e=j(this.$7,d,e);d=b("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1);var f,k=this.$1.getNumber("bandwidth_abr_ratio",1),l=this.$1.getNumber("bandwidth_abr_bias",0),m=this.$1.getNumber("buffer_abr_ratio",1),n=this.$1.getNumber("buffer_abr_bias",0);k=k*(d/1e6-l)+m*(a-n);for(var d=0;d<e.length;d++)e[d].getBandwidth()/1e6<k&&(f=e[d]);f=f||e[0];this.$5!==f&&(this.$4=!0,this.$3=c,this.$5=f);this.$12="repomen";return f};a.prototype.getStreamSegmentsCountStrategy=function(){return null};a.prototype.getLastEvaluationReason=function(){return this.$12};e.exports=a}),null);
__d("VideoPlayerOzWWWConfig",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="oz_www_";function a(a){this.$1=a}a.prototype.getBool=function(a,b){return this.$1.getBool(g+a,b)};a.prototype.getNumber=function(a,b){return this.$1.getNumber(g+a,b)};a.prototype.getString=function(a,b){return this.$1.getString(g+a,b)};a.prototype.setContext=function(a,b){this.$1.setContext(a,b)};e.exports=a}),null);
__d("VideoPlayerOzWWWGlobalConfig",["VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f){"use strict";var g="oz_www_";a={getBool:function(a,c){return b("VideoPlayerShakaGlobalConfig").getBool(g+a,c)},getNumber:function(a,c){return b("VideoPlayerShakaGlobalConfig").getNumber(g+a,c)},getString:function(a,c){return b("VideoPlayerShakaGlobalConfig").getString(g+a,c)}};e.exports=a}),null);
__d("oz-player/loggings/OzOperationLoggerBase",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=a}a.prototype.start=function(){this.getClientTimeBegin()||this.setClientTimeBegin(Date.now());return this};a.prototype.log=function(){this.getClientTimeEnd()||this.setClientTimeEnd(Date.now())};a.prototype.setError=function(a){this.$2=a;return this};a.prototype.setResult=function(a){this.$3=a;return this};a.prototype.setType=function(a){this.$4=a;return this};a.prototype.setClientTimeBegin=function(a){this.$5=a;return this};a.prototype.setClientTimeEnd=function(a){this.$6=a;return this};a.prototype.setSegmentCount=function(a){this.$13=a;return this};a.prototype.setTimeToFirstByte=function(a){this.$7=a;return this};a.prototype.setTimeToLastByte=function(a){this.$8=a;return this};a.prototype.setTimeToRequestStart=function(a){this.$9=a;return this};a.prototype.setTimeToRequestSent=function(a){this.$10=a;return this};a.prototype.setReason=function(a){this.$11=a;return this};a.prototype.setResource=function(a){this.$12=a;return this};a.prototype.setSegmentStartTime=function(a){this.$14=a;return this};a.prototype.setSegmentEndTime=function(a){this.$15=a;return this};a.prototype.setLength=function(a){this.$16=a;return this};a.prototype.setLiveheadPosition=function(a){this.$17=a;return this};a.prototype.setManifestType=function(a){this.$18=a;return this};a.prototype.setPriorityFloat=function(a){this.$19=a;return this};a.prototype.setAppendedBufferMs=function(a){this.$20=a;return this};a.prototype.setInitiator=function(a){this.$21=a;return this};a.prototype.setPreloadTime=function(a){this.$22=a;return this};a.prototype.setConcluder=function(a){this.$23=a;return this};a.prototype.setPreviousRepresentationID=function(a){this.$24=a;return this};a.prototype.setRepresentationID=function(a){this.$25=a;return this};a.prototype.setState=function(a){this.$26=a;return this};a.prototype.getError=function(){return this.$2};a.prototype.getResult=function(){return this.$3};a.prototype.getType=function(){return this.$4};a.prototype.getClientTimeBegin=function(){return this.$5};a.prototype.getClientTimeEnd=function(){return this.$6};a.prototype.getTimeToRequestStart=function(){return this.$9};a.prototype.getTimeToRequestSent=function(){return this.$10};a.prototype.getReason=function(){return this.$11};a.prototype.getResource=function(){return this.$12};a.prototype.getOperationName=function(){return this.$1};a.prototype.getSegmentStartTime=function(){return this.$14};a.prototype.getSegmentEndTime=function(){return this.$15};a.prototype.getLength=function(){return this.$16};a.prototype.getLiveheadPosition=function(){return this.$17};a.prototype.getManifestType=function(){return this.$18};a.prototype.getPriorityFloat=function(){return this.$19};a.prototype.getAppendedBufferMs=function(){return this.$20};a.prototype.getInitiator=function(){return this.$21};a.prototype.getPreloadTime=function(){return this.$22};a.prototype.getConcluder=function(){return this.$23};e.exports=a}),null);
__d("oz-player/loggings/OzDevConsolePerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i;function j(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).debug.apply(a,["[oz]"].concat(c))}function k(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).error.apply(a,["[oz]"].concat(c))}function l(a,b){return Math.floor(a).toString().padStart(b,"0")}function m(a,b){b===void 0&&(b=null);var c=function(a){return l(a.getHours(),2)+":"+l(a.getMinutes(),2)+":"+l(a.getSeconds(),2)+" "+l(a.getMilliseconds(),3)},d=b?b-a:0;return"["+c(a)+(b?" - "+c(b):"")+" ("+d+" ms)]"}function n(a){return a==="failed"?k:j}g=babelHelpers.inherits(o,b("oz-player/loggings/OzPerfLoggerProviderBase"));g&&g.prototype;o.prototype.createOperationLogger=function(a){return new p(a)};o.prototype.createLoggerProvider=function(){return new o()};function o(){g.apply(this,arguments)}h=babelHelpers.inherits(p,b("oz-player/loggings/OzOperationLoggerBase"));i=h&&h.prototype;p.prototype.log=function(){i.log.call(this);var a=this.getClientTimeBegin()||0,b=this.getClientTimeEnd();b=b?new Date(b):null;var c=this.getResult()||"success",d=this.getType(),e=this.getInitiator(),f=this.getResource();n(c)("["+c+"]",this.getOperationName()+": "+m(new Date(a),b),d?""+d:"",e||"",f||"")};function p(){h.apply(this,arguments)}e.exports={OzDevConsolePerfLoggerProvider:o,OzDevConsoleOperationLogger:p}}),null);
__d("oz-player/loggings/OzLoggingUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){a=a.getOperationLogger(b).start();try{b=c(a);return b}catch(b){a.setError(b);throw b}finally{a.log()}}function b(a,b,c,d,e){__p&&__p();d===void 0&&(d=function(){});e===void 0&&(e=function(){});var f=b.getOperationLogger(c).start();d(f);return a.then(function(a){e(f);f.log();return a})["catch"](function(a){f.setError(a);e(f);f.log();throw a})}e.exports={executeOperationAndLog:a,monitorPromiseAndLogOperation:b}}),null);
__d("oz-player/loggings/OzMultiDestinationPerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;a=babelHelpers.inherits(i,b("oz-player/loggings/OzPerfLoggerProviderBase"));g=a&&a.prototype;function i(a){g.constructor.call(this),this.$OzMultiDestinationPerfLoggerProvider1=a}i.prototype.createOperationLogger=function(a){var b=new j(a,this.$OzMultiDestinationPerfLoggerProvider1.map(function(b){return b.getOperationLogger(a)}));return b};i.prototype.createLoggerProvider=function(){return new i(this.$OzMultiDestinationPerfLoggerProvider1)};c=babelHelpers.inherits(j,b("oz-player/loggings/OzOperationLoggerBase"));h=c&&c.prototype;function j(a,b){h.constructor.call(this,a),this.$OzMultiDestinationOperationLogger1=b}j.prototype.start=function(){h.start.call(this);this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.start()});return this};j.prototype.setResult=function(a){h.setResult.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResult(a)});return this};j.prototype.setError=function(a){h.setError.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setError(a)});return this};j.prototype.setType=function(a){h.setType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setType(a)});return this};j.prototype.setClientTimeEnd=function(a){h.setClientTimeEnd.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeEnd(a)});return this};j.prototype.setClientTimeBegin=function(a){h.setClientTimeBegin.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeBegin(a)});return this};j.prototype.setSegmentCount=function(a){h.setSegmentCount.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentCount(a)});return this};j.prototype.setTimeToFirstByte=function(a){h.setTimeToFirstByte.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToFirstByte(a)});return this};j.prototype.setTimeToLastByte=function(a){h.setTimeToLastByte.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToLastByte(a)});return this};j.prototype.setTimeToRequestStart=function(a){h.setTimeToRequestStart.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToRequestStart(a)});return this};j.prototype.setTimeToRequestSent=function(a){h.setTimeToRequestSent.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToRequestSent(a)});return this};j.prototype.setReason=function(a){h.setReason.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setReason(a)});return this};j.prototype.setResource=function(a){h.setResource.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResource(a)});return this};j.prototype.setSegmentStartTime=function(a){h.setSegmentStartTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentStartTime(a)});return this};j.prototype.setSegmentEndTime=function(a){h.setSegmentEndTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentEndTime(a)});return this};j.prototype.setAppendedBufferMs=function(a){h.setAppendedBufferMs.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setAppendedBufferMs(a)});return this};j.prototype.setLength=function(a){h.setLength.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLength(a)});return this};j.prototype.setLiveheadPosition=function(a){h.setLiveheadPosition.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLiveheadPosition(a)});return this};j.prototype.setManifestType=function(a){h.setManifestType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setManifestType(a)});return this};j.prototype.setPriorityFloat=function(a){h.setPriorityFloat.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPriorityFloat(a)});return this};j.prototype.setInitiator=function(a){h.setInitiator.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setInitiator(a)});return this};j.prototype.setPreloadTime=function(a){h.setPreloadTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreloadTime(a)});return this};j.prototype.setConcluder=function(a){h.setConcluder.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setConcluder(a)});return this};j.prototype.setPreviousRepresentationID=function(a){h.setPreviousRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreviousRepresentationID(a)});return this};j.prototype.setRepresentationID=function(a){h.setRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setRepresentationID(a)});return this};j.prototype.setState=function(a){h.setState.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setState(a)});return this};j.prototype.log=function(){h.log.call(this),this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.log()})};e.exports={OzMultiDestinationPerfLoggerProvider:i}}),null);
__d("oz-player/loggings/OzOperationLoggerObserver",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1=new(b("oz-player/shims/OzSubscriptionsHandler"))()}a.prototype.observe=function(a,b){var c;a=a.map(function(a){var c=a.setOperationLoggedListener(function(a){b.getOperationLogger(a.getOperationName()).setClientTimeBegin(a.getClientTimeBegin()||0).setClientTimeEnd(a.getClientTimeEnd()||0).setLength(a.getLength()).setResult(a.getResult()||"success").setInitiator(a.getInitiator()).setType(a.getType()).log()});a.activate();return c});(c=this.$1).addSubscriptions.apply(c,a)};a.prototype.destroy=function(){this.$1.release()};e.exports=a}),null);
__d("oz-player/manifests/OzRepresentation",["oz-player/shims/ozvariant","oz-player/utils/OzError"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b,c,d,e,f,g,h){this.$4=[],this.$1=a,this.$7=b,this.$2=c,this.$3=d,this.$5=e,this.$6=f,this.$8=g,this.$9=h}g.prototype.getID=function(){return this.$7};g.prototype.getBandwidth=function(){return this.$6};g.prototype.getMimeCodecs=function(){return this.$2};g.prototype.getInitSegment=function(){return this.$3};g.prototype.getCustomFieldFirstSegment=function(){return this.$8};g.prototype.getCustomField=function(a){if(this.$9==null||!this.$9[a])throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Custom field "+a+" is not specified by caller"});a=this.$9[a];try{return a(this.$1)}catch(a){return null}};g.prototype.updateWith=function(a){a instanceof g||b("oz-player/shims/ozvariant")(0,229),this.$5.updateWith(a.$5)};g.prototype.getSegmentByTime=function(a){return this.$5.getSegmentByTime(a)};g.prototype.getSegment=function(a){return this.$5.getSegment(a)};g.prototype.getSegmentAfter=function(a){return this.$5.getSegmentAfter(a)};g.prototype.isEndingSegment=function(a){return this.$5.isEndingSegment(a)};g.prototype.addUpdateListener=function(a){return this.$5.addUpdateListener(a)};g.prototype.getTimeRanges=function(){return this.$5.getTimeRanges()};g.prototype.blockTimeRange=function(a){this.$5.blockTimeRange(a)};e.exports=g}),null);
__d("oz-player/manifests/OzVideoRepresentation",["oz-player/manifests/OzRepresentation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("oz-player/manifests/OzRepresentation"));g=c&&c.prototype;function a(a,b,c,d,e,f,h,i,j,k){g.constructor.call(this,a,b,c,d,e,f,h,i),this.$OzVideoRepresentation5=null,this.$OzVideoRepresentation1=j,this.$OzVideoRepresentation2=k,this.$OzVideoRepresentation4=i,this.$OzVideoRepresentation3=a}a.prototype.getWidth=function(){return this.$OzVideoRepresentation1};a.prototype.getHeight=function(){return this.$OzVideoRepresentation2};a.prototype.getQualityLabel=function(){if(this.$OzVideoRepresentation5!==null&&this.$OzVideoRepresentation5!==void 0)return this.$OzVideoRepresentation5;var a=this.$OzVideoRepresentation4?this.$OzVideoRepresentation4.qualityLabel:null;a&&(this.$OzVideoRepresentation5=a(this.$OzVideoRepresentation3));(this.$OzVideoRepresentation5==null||this.$OzVideoRepresentation5=="")&&(this.$OzVideoRepresentation5=this.getHeight().toString()+"p");return this.$OzVideoRepresentation5||""};e.exports=a}),null);
__d("oz-player/media_source/OzMediaErrorProvider",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=a}a.prototype.getMediaErrorName=function(){var a=this.$1.error;return a&&a.message?this.$2(a.message):null};a.prototype.getErrorCode=function(){var a=this.$1.error;return a&&a.code?a.code:null};a.prototype.$2=function(a){a=a.split(":")[0];return a||""};e.exports=a}),null);
__d("oz-player/media_source/SourceBufferManager",["oz-player/utils/OzSourceBufferUtil","oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzEventListener","oz-player/utils/OzError","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzObservedSourceBufferState","oz-player/utils/ozConcatArrayBuffer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzSourceBufferUtil").getTotalBufferedTime,h=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation;function a(a,c,d){this.$2=null,this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$5=!1,this.$6=[],this.$10=function(){this.$2&&this.$2.resolve(),this.$2=null}.bind(this),this.$11=function(){var a=this.$2;a&&setTimeout(function(){var c=this.$8.getErrorCode(),d=this.$8.getMediaErrorName(),e={};c!==null&&c!==void 0&&(e.code=c.toString());c=new(b("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:d!==null&&d!==void 0?d:"Unknown SourceBuffer Append Error",extra:e});a.reject(c);this.$2=null}.bind(this),0)}.bind(this),this.$1=a,this.$9=c,this.$3.addSubscriptions(b("oz-player/shims/OzEventListener").listen(this.$1,"updateend",this.$10),b("oz-player/shims/OzEventListener").listen(this.$1,"error",this.$11)),this.$7=new(b("oz-player/states/OzObservedSourceBufferState"))(this.$1),this.$8=d}a.prototype.queueData=function(a,c,d){c===void 0&&(c=null);d===void 0&&(d=0);var e=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$6.push({data:a,deferred:e,loggerProvider:c,appendTarget:d});a=e.getPromise();this.$5||this.$12();return a};a.prototype.cancelOperationAndCleanQueue=function(){__p&&__p();var a=this.$13();this.$6.forEach(function(b){b=b.deferred;b.reject(a)});this.$6=[];this.$1.abort();var c=b("oz-player/shims/OzMaybeNativePromise").resolve(),d=this.$2;d&&(d.reject(a),c=d.getPromise()["catch"](function(){}));this.$4&&(this.$4.reject(a),this.$4=null);return c};a.prototype.getSourceBufferState=function(){return this.$7};a.prototype.clearRange=function(a,b){this.$1.remove(a,b)};a.prototype.$14=function(a){var c=this.$2=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));c=c.getPromise();a&&h(c,a,"wait_for_source_buffer");return c};a.prototype.$15=function(a,c){__p&&__p();if(this.$2!==null)return b("oz-player/shims/OzMaybeNativePromise").reject(this.$16("cannot have concurrent appends"));var d=function(){__p&&__p();if(this.$9.getBool("sbm_recursively_waits_for_update_end",!1)&&this.$1.updating)return this.$14(c).then(d)["catch"](function(a){if(this.$9.getBool("enable_appends_on_wait_update_end_failure",!1))return d();throw a}.bind(this));var e=this.$2=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));try{this.$1.appendBuffer(a)}catch(a){var f=this.$8.getErrorCode();f=new(b("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:a.message,extra:{originalError:a,code:f!==null&&f!==void 0?f.toString():"0"}});this.$2=null;e.reject(f)}f=e.getPromise();c&&h(f,c,"append",function(b){b.setLength(a.byteLength)});var i=this.$9.getBool("log_appended_secs",!1)?g(this.$1):0;return f.then(function(){return this.$9.getBool("log_appended_secs",!1)?g(this.$1)-i:0}.bind(this))}.bind(this);if(!this.$9.getBool("sbm_waits_for_update_end",!1))return d();return!this.$9.getBool("sbm_recursively_waits_for_update_end",!1)&&this.$1.updating?this.$14(c).then(d)["catch"](function(a){if(this.$9.getBool("enable_appends_on_wait_update_end_failure",!1))return d();throw a}.bind(this)):d()};a.prototype.$12=function(){__p&&__p();if(this.$5)return b("oz-player/shims/OzMaybeNativePromise").reject(this.$16("Another unit of queued data is being appended."));var a=this.$6.shift();if(!a){this.$5=!1;return b("oz-player/shims/OzMaybeNativePromise").resolve()}var c=a.data,d=a.deferred,e=a.loggerProvider;a=a.appendTarget;this.$5=!0;a=c instanceof ReadableStream?this.$17(c,e,a):this.$15(c,e);return a["catch"](function(a){d.reject(a);return 0}).then(function(a){d.resolve(a),this.$5=!1,this.$12()}.bind(this))};a.prototype.$17=function(a,c,d){__p&&__p();var e=new ArrayBuffer(0),f=a.getReader(),g=function(){__p&&__p();var a=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$4=a;f.read().then(function(b){a.resolve(b),this.$4=null}.bind(this))["catch"](function(b){a.reject(b),this.$4=null}.bind(this));return a.getPromise().then(function(a){__p&&__p();var f=a.done;a=a.value;if(f)return e.byteLength>0?this.$15(e,c):b("oz-player/shims/OzMaybeNativePromise").resolve(0);f=a;d>0&&(a instanceof Uint8Array&&(a=a.buffer),e=b("oz-player/utils/ozConcatArrayBuffer")(e,a),f=e);if(f&&f.byteLength>=d){e=new ArrayBuffer(0);return this.$15(f,c).then(function(a){return g().then(function(b){return b+a})})}return g()}.bind(this))}.bind(this);return g()};a.prototype.$16=function(a){a=new Error(a);a.name="invariant_violation";return a};a.prototype.$13=function(){var a=new Error("operation is cancelled");a.name="cancelled";return a};a.prototype.destroy=function(){this.$2&&this.$2.reject(this.$13()),this.$2=null,this.$3.release(),this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$7.destroy()};a.prototype.getDebug=function(){return{SourceBuffer:this.$1}};e.exports=a}),null);
__d("oz-player/media_source/MediaSourceManager",["oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzDeferred","oz-player/shims/OzEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/media_source/OzMediaErrorProvider","oz-player/media_source/SourceBufferManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider;function a(a,c,d){d===void 0&&(d=new h([])),this.$2=null,this.$4=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$6=[],this.$7=[],this.$9=!1,this.$12=function(){this.$13()||(this.$9=!1);if(!this.$14())return;var a=this.$7.shift();a&&(a(this.$3),this.$9=!0)}.bind(this),this.$5=d,this.$10=c,this.$1=a,this.$3=new MediaSource(),this.$1.src=window.URL.createObjectURL(this.$3),this.$8=new(b("oz-player/media_source/OzMediaErrorProvider"))(this.$1),g(this.$11(),this.$5,"media_source_open")}a.prototype.$11=function(){if(this.$3.readyState==="open")return b("oz-player/shims/OzMaybeNativePromise").resolve();var a=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$4.addSubscriptions(b("oz-player/shims/OzEventListener").listen(this.$3,"sourceopen",function(){a.resolve(),this.$12()}.bind(this)));return a.getPromise()};a.prototype.createSourceBufferManager=function(a,c){c===void 0&&(c=!1);return this.$11().then(function(){var d=this.$3.addSourceBuffer(a);c&&!isNaN(this.$3.duration)&&(d.appendWindowEnd=this.$3.duration);this.$6.push(d);this.$4.addSubscriptions(b("oz-player/shims/OzEventListener").listen(d,"updateend",this.$12));return new(b("oz-player/media_source/SourceBufferManager"))(d,this.$10,this.$8)}.bind(this))};a.prototype.getMediaSource=function(){return this.$3};a.prototype.notifyEndOfStream=function(){this.$7.push(function(a){this.$5.getOperationLogger("end_of_stream").log(),a.endOfStream()}.bind(this)),this.$12()};a.prototype.updateDuration=function(a){this.$7.push(function(b){b.duration=a}),this.$12()};a.prototype.detach=function(){this.$1.removeAttribute("src");for(var a=0;a<this.$3.sourceBuffers.length;a++){var b=this.$3.sourceBuffers[a];this.$3.removeSourceBuffer(b)}this.$4.release();this.$4.engage();this.$7=[];this.$9=!1};a.prototype.$14=function(){return!this.$13()&&this.$3.readyState==="open"&&!this.$9};a.prototype.$13=function(){return this.$6.some(function(a){return a.updating})};e.exports=a}),null);
__d("oz-player/media_source/OzMediaSeekableRangeManager",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();this.$5=function(){var a=this.$2;if(!a)return;a=a.getTimeRanges();if(!a.length)return;a=a[a.length-1];var b=this.$1.getMediaSource();this.$4.getBool("update_media_source_duration",!1)&&(b.duration===Infinity||b.duration<a.endTime||isNaN(b.duration))&&this.$1.updateDuration(a.endTime)}.bind(this),this.$1=a,this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$4=c,this.$5()}a.prototype.setTimeRangeProvider=function(a){this.$3.release();this.$3.engage();this.$3.addSubscriptions(a.addUpdateListener(this.$5));this.$2=a;if(this.$4.getBool("update_duration_if_mpd_synchronously_has_timeline_info",!1)&&a.getTimeRanges().length){a=a.getTimeRanges()[a.getTimeRanges().length-1].endTime;this.$1.updateDuration(a)}};a.prototype.listenToMediaStreamInitAppended=function(a){return a.addListener("initAppended",function(){if(this.$4.getBool("update_duration_when_init_appended",!1)){var a=this.$1.getMediaSource();(a.duration===Infinity||isNaN(a.duration))&&this.$5()}}.bind(this))};a.prototype.destroy=function(){this.$3.release()};e.exports=a}),null);
__d("oz-player/mocks/MockRequestParamCreator",["oz-player/shims/OzURI"],(function(a,b,c,d,e,f){"use strict";a.prototype.createRequestParam=function(a,c){a=new(b("oz-player/shims/OzURI"))(a);var d=c.startByte,e=c.endByte;d===0&&(e===null||e===void 0)||(a=a.addQueryData({bytestart:c.startByte}),e!==null&&e!==void 0&&(a=a.addQueryData({byteend:e})));return{uri:a,http:{credentials:"same-origin"}}};function a(){}e.exports=a}),null);
__d("oz-player/manifests/SegmentTemplateSegmentsContainer",["oz-player/utils/OzNumericalHelper","oz-player/shims/OzEventEmitter","oz-player/utils/OzError","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzNumericalHelper").equalTo,h=b("oz-player/utils/OzNumericalHelper").greaterThan;b("oz-player/utils/OzNumericalHelper").lessThan;var i=b("oz-player/utils/OzNumericalHelper").greaterThanOrEqual,j=b("oz-player/utils/OzNumericalHelper").lessThanOrEqual,k=1e-4;function l(a,c,d,e,f){f===void 0&&(f=!1),this.$6=new(b("oz-player/shims/OzEventEmitter"))(),this.$9=null,this.$1=c,this.$2=d,this.$3=e,this.$4=this.$10(this.$3),this.$5=f,this.$7=a,this.$8=this.$7.getNumber("live_numerical_error_epsilon",0)}l.prototype.getSegmentByTime=function(a){__p&&__p();a=this.$7.getBool("live_query_time_in_range",!1)?this.$11(a):a;a=a*this.$2;var b=null;for(var c=this.$3.length-1;c>=0;c--){var d=this.$3[c];if(j(d.t+d.d*(d.r+1),a,this.$8))break;b=d}if(b===null)return null;if(this.$7.getBool("live_no_segment_when_playhead_is_before_first_segment",!1)&&h(b.t,a,this.$8))return null;d=Math.max(0,Math.floor((a-b.t+this.$8)/b.d));return this.$12(b,d)};l.prototype.getSegment=function(a){__p&&__p();var b=0;a=a;while(a>=0&&b<this.$3.length){var c=this.$3[b];c=c.r;c=c+1;if(a>=c){a-=c;b++;continue}break}c=this.$3[b];return!c?null:this.$12(c,a)};l.prototype.getSegmentAfter=function(a){a=a.getTimeRange().endTime;return this.getSegmentByTime(a)};l.prototype.isEndingSegment=function(a){if(!this.$3||!this.$3.length||!this.$5)return!1;var b=this.$3[this.$3.length-1],c=b.r;b=this.$12(b,c);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<k};l.prototype.updateWith=function(a){a instanceof l||b("oz-player/shims/ozvariant")(0,646),this.$5=a.$5,this.$13(a.$3),this.$14(a.$3),this.$6.emit("segment_updated")};l.prototype.getTimeRanges=function(){return this.$9&&this.$7.getBool("live_block_time_range_on_the_fly",!1)?this.$15(this.$4,this.$9):this.$4};l.prototype.blockTimeRange=function(a){this.$9=a,this.$7.getBool("live_block_time_range_on_the_fly",!1)||(this.$4=this.$15(this.$4,a))};l.prototype.$15=function(a,c){return new(b("oz-player/utils/OzNumericalRangeUtil"))().diffSortedRanges(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:c.startTime,rangeEnd:c.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};l.prototype.addUpdateListener=function(a){return this.$6.addListener("segment_updated",a)};l.prototype.$11=function(a){var c=a,d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(d===-1){d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));d!==-1&&(c=this.getTimeRanges()[d].startTime)}return c};l.prototype.$16=function(a,b){if(a.d!==b.d)return!1;var c=a.t+a.d*a.r,d=b.t+b.d*b.r;return i(a.t,d,this.$8)||i(b.t,c,this.$8)?!1:Number.isInteger((a.t-b.t)/a.d)};l.prototype.$13=function(a){__p&&__p();var c=this.$3.length-1,d=a.length-1,e=c,f=d,i=this.$7.getBool("fix_templated_manifest_r_field_check",!1);while(c>=0&&d>=0){var j=this.$3[c],k=a[d];if(g(j.t,k.t,this.$8)){if(i){var l=c===e||d===f,m=l&&(c!==e&&k.r>j.r||d!==f&&j.r>k.r);l=!l&&j.r!==k.r||m}else l=!(c===e&&d===f)&&j.r!==k.r;if(l)throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:'Segment group "R" field mismatch. Old groups: '+JSON.stringify(this.$3)+", new groups: "+JSON.stringify(a)});j.r=Math.max(j.r,k.r);c--;d--}else if(h(k.t,j.t,this.$8))this.$3.splice(c+1,0,k),d--;else{if(this.$16(j,k))throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Segment group misalinged"});c--}}if(d>=0){(m=this.$3).unshift.apply(m,a.slice(0,d+1))}};l.prototype.$14=function(a){__p&&__p();a=this.$10(a);a=new(b("oz-player/utils/OzNumericalRangeUtil"))().mergeSortedRanges(this.$4.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));if(!this.$7.getBool("live_block_time_range_on_the_fly",!1)){var c=this.$9;c!=null&&(a=new(b("oz-player/utils/OzNumericalRangeUtil"))().diffSortedRanges(a,{rangeStart:c.startTime,rangeEnd:c.endTime}))}this.$4=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};l.prototype.$10=function(a){__p&&__p();a=new(b("oz-player/utils/OzNumericalRangeUtil"))();a=a.mergeSortedRanges(this.$3.map(function(a){var b=this.$12(a,0).getTimeRange().startTime;a=this.$12(a,a.r).getTimeRange().endTime;return{rangeStart:b,rangeEnd:a}}.bind(this)));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a===null||a===void 0?Infinity:a;return{startTime:b,endTime:a}})};l.prototype.$12=function(a,c){c===void 0&&(c=0);var d=a.t,e=a.d,f=d+e*c;return{getURI:function(){var a=this.$1.replace("$Time$",f.toString());return new(b("oz-player/shims/OzURI"))(a)}.bind(this),getTimeRange:function(){return{startTime:f/this.$2,endTime:(f+e)/this.$2}}.bind(this),getByteRange:function(){return null}}};e.exports=l}),null);
__d("oz-player/manifests/SegmentTemplateSegmentsContainerLegacy",["oz-player/utils/OzNumericalHelper","oz-player/shims/OzEventEmitter","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzNumericalHelper").equalTo,h=b("oz-player/utils/OzNumericalHelper").greaterThan,i=b("oz-player/utils/OzNumericalHelper").lessThan;b("oz-player/utils/OzNumericalHelper").greaterThanOrEqual;var j=b("oz-player/utils/OzNumericalHelper").lessThanOrEqual,k=1e-4;function l(a,c,d,e,f){f===void 0&&(f=!1),this.$6=new(b("oz-player/shims/OzEventEmitter"))(),this.$9=null,this.$1=c,this.$2=d,this.$3=e,this.$4=this.$10(this.$3),this.$5=f,this.$7=a,this.$8=this.$7.getNumber("live_numerical_error_epsilon",0)}l.prototype.getSegmentByTime=function(a){__p&&__p();a=this.$7.getBool("live_query_time_in_range",!1)?this.$11(a):a;a=a*this.$2;if(this.$7.getBool("live_segment_search_from_end",!1)){var b=null;for(var c=this.$3.length-1;c>=0;c--){var d=this.$3[c];if(j(d.t+d.d,a,this.$8))break;b=d}if(b===null)return null;return this.$7.getBool("live_no_segment_when_playhead_is_before_first_segment",!1)&&h(b.t,a,this.$8)?null:this.$12(b)}for(var d=0;d<this.$3.length;d++){c=this.$3[d];if((this.$7.getBool("live_find_next_segment_with_gap",!1)||j(c.t,a,this.$8))&&h(c.t+c.d,a,this.$8))return this.$12(c)}return null};l.prototype.getSegment=function(a){a=this.$3[a];return!a?null:this.$12(a)};l.prototype.getSegmentAfter=function(a){var b=this.$3.findIndex(function(b){return g(b.t,a.getTimeRange().startTime*this.$2,this.$8)&&g(b.t+b.d,a.getTimeRange().endTime*this.$2,this.$8)}.bind(this));return b>=0&&b+1<this.$3.length?this.$12(this.$3[b+1]):null};l.prototype.isEndingSegment=function(a){if(!this.$3||!this.$3.length||!this.$5)return!1;var b=this.$12(this.$3[this.$3.length-1]);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<k};l.prototype.updateWith=function(a){a instanceof l||b("oz-player/shims/ozvariant")(0,646),this.$5=a.$5,this.$13(a.$3),this.$14(a.$3),this.$6.emit("segment_updated")};l.prototype.getTimeRanges=function(){return this.$4};l.prototype.blockTimeRange=function(a){this.$9=a,this.$4=new(b("oz-player/utils/OzNumericalRangeUtil"))().diffSortedRanges(this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:a.startTime,rangeEnd:a.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};l.prototype.addUpdateListener=function(a){return this.$6.addListener("segment_updated",a)};l.prototype.$11=function(a){var c=a,d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(d===-1){d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));d!==-1&&(c=this.getTimeRanges()[d].startTime)}return c};l.prototype.$13=function(a){var b=0,c=0;while(b<this.$3.length&&c<a.length){var d=this.$3[b],e=a[c];i(d.t,e.t,this.$8)?b++:h(d.t,e.t,this.$8)?(j(e.t+e.d,d.t,this.$8)&&this.$3.splice(b,0,e),c++):(b++,c++)}while(c<a.length)this.$3.push(a[c]),c++};l.prototype.$14=function(a){a=this.$10(a);a=new(b("oz-player/utils/OzNumericalRangeUtil"))().mergeSortedRanges(this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));var c=this.$9;c!=null&&(a=new(b("oz-player/utils/OzNumericalRangeUtil"))().diffSortedRanges(a,{rangeStart:c.startTime,rangeEnd:c.endTime}));this.$4=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};l.prototype.$10=function(a){__p&&__p();a=new(b("oz-player/utils/OzNumericalRangeUtil"))();a=a.mergeSortedRanges(this.$3.map(function(a){a=this.$12(a).getTimeRange();var b=a.startTime;a=a.endTime;return{rangeStart:b,rangeEnd:a}}.bind(this)));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a===null||a===void 0?Infinity:a;return{startTime:b,endTime:a}})};l.prototype.$12=function(a){var c=a.t,d=a.d;return{getURI:function(){var a=this.$1.replace("$Time$",c.toString());return new(b("oz-player/shims/OzURI"))(a)}.bind(this),getTimeRange:function(){return{startTime:c/this.$2,endTime:(c+d)/this.$2}}.bind(this),getByteRange:function(){return null}}};e.exports=l}),null);
__d("oz-player/manifests/OzZeroTimeRangeSegment",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}a.prototype.getURI=function(){return this.$1};a.prototype.getTimeRange=function(){return{startTime:0,endTime:0}};a.prototype.getByteRange=function(){return{startByte:this.$2,endByte:this.$3}};e.exports=a}),null);
__d("DataViewReader",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=0,this.$2=a}a.prototype.seek=function(a){this.$1=a};a.prototype.skip=function(a){var b=this.$1;this.$1+=a;return b};a.prototype.readUint8=function(){return this.$2.getUint8(this.skip(8/8))};a.prototype.readUint16=function(){return this.$2.getUint16(this.skip(16/8))};a.prototype.readUint32=function(){return this.$2.getUint32(this.skip(32/8))};a.prototype.readUint64=function(){var a=this.$2.getUint32(this.skip(32/8)),b=this.$2.getUint32(this.skip(32/8));if(a>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*a+b};a.prototype.readInt64=function(){var a=this.$2.getUint32(this.skip(32/8)),b=this.$2.getUint32(this.skip(32/8));if(a>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*(a|0)+b};a.prototype.readInt16=function(){return this.$2.getInt16(this.skip(16/8))};a.prototype.readInt32=function(){return this.$2.getInt32(this.skip(32/8))};a.prototype.readZeroTerminatedString=function(a){var b="",c=0,d;while(c++<a&&(d=this.readUint8()))b+=String.fromCharCode(d);return b};a.prototype.readChars=function(a){var b="";while(a-->0)b+=String.fromCharCode(this.$2.getUint8(this.skip(8/8)));return b};a.prototype.readBytes=function(a){var b=[];while(a-->0)b.push(this.$2.getUint8(this.skip(8/8)));return b};a.prototype.getDataView=function(){return this.$2};a.prototype.getCursor=function(){return this.$1};a.prototype.hasMoreData=function(){return this.$2.byteLength-this.getCursor()>0};e.exports=a}),null);
__d("oz-player/manifests/OzDataSegment",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e}a.prototype.getURI=function(){return this.$1};a.prototype.getTimeRange=function(){return{startTime:this.$2,endTime:this.$3}};a.prototype.getByteRange=function(){return{startByte:this.$4,endByte:this.$5}};e.exports=a}),null);
__d("oz-player/Player",["Promise","oz-player/loggings/OzDevConsolePerfLogger","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/loggings/OzOperationLoggerObserver","oz-player/manifests/OzVideoRepresentation","oz-player/media_source/MediaSourceManager","oz-player/media_source/OzMediaSeekableRangeManager","oz-player/networks/OzNetworkManager","oz-player/parsers/OzMpdParser","oz-player/parsers/OzMpdUpdater","oz-player/playback_controls/OzPlaybackTimeRangeManager","oz-player/playback_controls/OzPlayheadManager","oz-player/playback_controls/OzPlayheadNudger","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzObservedPlaybackState","oz-player/states/OzPlayerDimensions","oz-player/strategies/OzAbrManager","oz-player/strategies/OzBufferAheadPriorityStrategy","oz-player/strategies/OzBufferAheadTargetStrategy","oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy","oz-player/strategies/OzBufferTargetCalculator","oz-player/strategies/OzLiveheadDeltaCatchupStrategy","oz-player/strategies/OzPausedStreamSegmentsCountStrategy","oz-player/strategies/OzPlayheadAtInterruptionDetector","oz-player/strategies/OzPlayingStatePriorityStrategy","oz-player/strategies/OzPriorityCalculator","oz-player/strategies/OzStartupBufferTargetStrategy","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/OzStreamSegmentsCountCalculator","oz-player/streams/OzEndOfStreamWatcher","oz-player/streams/OzHandleUserRepresentationSwitch","oz-player/streams/OzMediaStream","oz-player/utils/getRepresentationInCache","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("oz-player/loggings/OzDevConsolePerfLogger").OzDevConsolePerfLoggerProvider,i=b("oz-player/loggings/OzLoggingUtils").executeOperationAndLog,j=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,k=b("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider,l=b("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions;c=babelHelpers.inherits(a,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function a(a,c,d,e,f,h,i,j,l,m,n,o,p,q,r,s,t){__p&&__p();f===void 0&&(f=null);h===void 0&&(h={perfLoggerProviders:[],observedOperationLoggers:[],isOzDevConsoleEnabled:!1});i===void 0&&(i=null);l===void 0&&(l=[]);m===void 0&&(m=new Map());n===void 0&&(n="");o===void 0&&(o=[]);p===void 0&&(p={});q===void 0&&(q=null);r===void 0&&(r=null);s===void 0&&(s=null);t===void 0&&(t=0);g.constructor.call(this);this.$Player3=new Map();this.$Player4=new Map();this.$Player9=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$Player10=new(b("oz-player/utils/OzErrorEmitter"))();this.$Player24=[];this.$Player30=null;this.$Player31=null;this.$Player35=function(a){};this.$Player39=!0;var u=h,v=u.perfLoggerProviders;u=u.observedOperationLoggers;h=h;h=h.isOzDevConsoleEnabled;this.$Player15=h||!1;this.$Player14=new k(this.$Player41().concat(v));this.$Player2=c;this.$Player42();this.$Player21=new(b("oz-player/loggings/OzOperationLoggerObserver"))();this.$Player21.observe(u,this.$Player14);this.$Player23=i;h=i&&i.getCachedRepresentations(n);this.$Player24=h||l;this.$Player26=m;this.$Player29=o;this.$Player27=p;this.$Player33=q;this.$Player34=r;s&&(this.$Player35=s);this.$Player37=0;this.$Player38=t;a instanceof HTMLVideoElement?(this.$Player1=a,this.$Player5=new(b("oz-player/media_source/MediaSourceManager"))(this.$Player1,this.$Player2,this.$Player14)):(this.$Player1=a.getVideoNode(),this.$Player5=a.getMediaSourceManager(),this.$Player6=a);this.$Player40=j;this.$Player11=new(b("oz-player/networks/OzNetworkManager"))(this.$Player2,this.$Player23,this.$Player40);this.$Player16=f;this.$Player7=d;this.$Player12=new(b("oz-player/states/OzObservedPlaybackState"))(this.$Player1,this.$Player14);this.$Player28=new(b("oz-player/states/OzPlayerDimensions"))(e);this.$Player13=new(b("oz-player/streams/OzEndOfStreamWatcher"))(this.$Player5,this.$Player2);this.$Player9.addSubscriptions(this.$Player13.addListener("streamEnd",this.emit.bind(this,"streamEnd")));this.$Player22=new(b("oz-player/media_source/OzMediaSeekableRangeManager"))(this.$Player5,this.$Player2);this.$Player25=this.$Player43()}a.prototype.setupPlayer=function(){__p&&__p();try{this.$Player8=i(this.$Player14,"parse_manifest",this.$Player44.bind(this,this.$Player7));if(this.$Player16!==null&&this.$Player16!==void 0){var a=new(b("oz-player/parsers/OzMpdUpdater"))(this.$Player2,this.$Player8,this.$Player11,this.$Player12,this.$Player14);this.$Player45(a);this.$Player9.addSubscriptions(a.onError(this.$Player10.emitError),a.addListener("streamGone",this.$Player46.bind(this)),a.addListener("streamTransitionToStatic",this.$Player47.bind(this)));a.setupUpdateLoop();this.$Player20=a}this.$Player37=this.$Player8.isStaticMpd()?this.$Player37:this.$Player38;this.$Player17=new(b("oz-player/playback_controls/OzPlayheadManager"))({video:this.$Player1,mpd:this.$Player8,playheadCatchup:this.$Player32,playbackState:this.$Player12,config:this.$Player2,perfLoggerProvider:this.$Player14,seekHandler:this.$Player34,initialPlaybackPosition:this.$Player37});this.$Player18=new(b("oz-player/playback_controls/OzPlayheadNudger"))(this.$Player2,this.$Player1);this.$Player19=new(b("oz-player/playback_controls/OzPlaybackTimeRangeManager"))(this.$Player2,this.$Player1,this.$Player8);this.setupStreamsAndFireDebugEvent()}catch(a){if(a instanceof b("oz-player/utils/OzError"))this.$Player10.emitError(a);else throw a}};a.prototype.updatePlayerRunTimeConfig=function(a){a=a.videoStreamDataHandler;if(a!==void 0){var b=this.$Player3.get("video");b&&b.updateRunTimeConfigs({videoStreamDataHandler:a})}};a.prototype.$Player48=function(a,b){var c=a.getMimeCodecs(),d,e=0,f=null,g=this.$Player6;g&&(d=g.getSourceBufferManagerPromise(c),e=g.getPrependedSegmentsCount(c),this.$Player2.getBool("fix_quick_starter_overhead",!1)&&(f=g.getRepresentationId(c)));d||(d=this.$Player5.createSourceBufferManager(c,this.$Player2.getBool("set_source_buffer_append_window_end",!1)));this.$Player49(d,b,f,a,e);return j(d,this.$Player14,"source_attach",function(a){a.setType(b)}).then(function(a){return this.$Player17.observeSourceBufferState(a.getSourceBufferState(),b)}.bind(this))};a.prototype.$Player50=function(a){a=[this.$Player2,a,this.$Player8.getVideoRepresentations(),this.$Player29,this.$Player12,this.$Player28,window.devicePixelRatio||1];return this.$Player33?this.$Player33.apply(this,a):new(Function.prototype.bind.apply(b("oz-player/strategies/OzAbrManager"),[null].concat(a)))()};a.prototype.$Player49=function(a,c,d,e,f){var g=this.$Player4.get(c),h=new(b("oz-player/streams/OzMediaStream"))(this.$Player2,a,f,this.$Player11,this.$Player12,this.$Player13,this.$Player25,this.$Player51(),this.$Player52(g),g,d,e,this.$Player14.cloneContext().setType(c));this.$Player37===0?h.start():this.$Player9.addSubscriptions(this.$Player17.addListener("initialPlaybackPositionSet",function(){this.$Player12.forceUpdateCurrentTime(),h.start()}.bind(this)));this.$Player9.addSubscriptions(h.onError(this.$Player10.emitError),this.$Player22.listenToMediaStreamInitAppended(h));c==="video"&&(this.$Player31=new(b("oz-player/streams/OzHandleUserRepresentationSwitch"))(this.$Player2,this.$Player12,l(this.$Player29,this.$Player28.getDimensions(),this.$Player8.getVideoRepresentations()),h,a));this.$Player3.set(c,h);this.$Player9.addSubscriptions(h.addListener("switchRepresentation",function(){c==="video"&&this.emit("switchVideoRepresentation")}.bind(this)),h.addListener("SegmentAppended",function(a){this.$Player53("SegmentAppended",a)}.bind(this)))};a.prototype.$Player43=function(){return new(b("oz-player/strategies/OzBufferTargetCalculator"))([new(b("oz-player/strategies/OzStartupBufferTargetStrategy"))(this.$Player12,this.$Player2),new(b("oz-player/strategies/OzBufferAheadTargetStrategy"))(this.$Player2)])};a.prototype.$Player45=function(a){if(this.$Player2.getNumber("stream_interrupt_check_mpd_stale_count_threshold",0)>0){var c=new(b("oz-player/strategies/OzPlayheadAtInterruptionDetector"))(this.$Player1);this.$Player9.addSubscriptions(c.addListener("playheadAtInterruption",function(a){return this.emit("streamInterruptAt",a)}.bind(this)),a.addListener("streamInterruptAt",function(a){return c.notifyStreamInterrupted(a)}),a.addListener("streamResumedAt",function(a){c.notifyStreamResumed(),this.emit("streamResumedAt",a)}.bind(this)));this.$Player30=c}};a.prototype.$Player51=function(){var a=[];this.$Player2.getBool("scheduler_with_priority_update",!1)&&(a=[new(b("oz-player/strategies/OzPlayingStatePriorityStrategy"))(this.$Player12),new(b("oz-player/strategies/OzBufferAheadPriorityStrategy"))(this.$Player12)]);return new(b("oz-player/strategies/OzPriorityCalculator"))(a)};a.prototype.$Player52=function(a){var c=[new(b("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(this.$Player2)];this.$Player2.getBool("buffer_target_bounded_stream_count",!1)&&c.push(new(b("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy"))(this.$Player25,this.$Player2));this.$Player2.getNumber("paused_stream_segments_count",0)!==0&&c.push(new(b("oz-player/strategies/OzPausedStreamSegmentsCountStrategy"))(this.$Player12,this.$Player2));if(a){a=a.getStreamSegmentsCountStrategy();a&&c.push(a)}return new(b("oz-player/strategies/OzStreamSegmentsCountCalculator"))(c)};a.prototype.onError=function(a){return this.$Player10.onError(a)};a.prototype.getCurrentQuality=function(){var a=this.$Player3.get("video");a=a&&a.getCurrentRepresentation();return a instanceof b("oz-player/manifests/OzVideoRepresentation")?a.getQualityLabel():this.$Player8.getVideoRepresentations()[0].getQualityLabel()};a.prototype.switchToVideoQuality=function(a){var b=this.$Player8.getVideoRepresentations().find(function(b){return b.getQualityLabel()===a});if(b){var c=this.$Player3.get("video");c&&(c.switchRepresentation(b),c.disableAdaptation())}};a.prototype.enableVideoQualityAdaptation=function(){var a=this.$Player3.get("video");a&&a.enableAdaptation()};a.prototype.getVideoQualities=function(){return this.$Player8.getVideoRepresentations().map(function(a){return a.getQualityLabel()})};a.prototype.setEnableLiveheadCatchup=function(a){this.$Player19&&(a?this.$Player14.getOperationLogger("live_catchup_enabled").log():this.$Player14.getOperationLogger("live_catchup_disabled").log(),this.$Player19.setTimelineBlockingEnabled(a))};a.prototype.setupStreamsAndFireDebugEvent=function(){var a=[this.setupVideoStream(),this.setupAudioStreamIfExist()],c=[];return b("Promise").all(a).then(function(){var a=this.$Player3.get("video"),b=this.$Player3.get("audio");a&&c.push(a.getCurrentRepresentation());b&&c.push(b.getCurrentRepresentation());c.forEach(function(a){this.$Player9.addSubscriptions(a.addUpdateListener(function(){this.$Player53("SegmentIndexesUpdated",c)}.bind(this)))}.bind(this));this.$Player53("InitialSegmentIndexes",c)}.bind(this))};a.prototype.setupVideoStream=function(){__p&&__p();var a=l(this.$Player29,this.$Player28.getDimensions(),this.$Player8.getVideoRepresentations());if(!a.length)return b("oz-player/shims/OzMaybeNativePromise").reject(new Error("no representation available."));this.$Player22.setTimeRangeProvider(a[0]);this.$Player17.setTimeRangeProvider(a[0]);this.$Player19!=null&&this.$Player19.setTimeRangeProvider(a[0]);var c=this.$Player54("video",a);if(this.$Player2.getBool("enable_adaptation",!1)){var d=this.$Player50(c||a[0]);this.$Player4.set("video",d);this.$Player2.getBool("use_abr_for_missing_default_representation",!1)&&!c&&(c=d.getBestRepresentation())}return this.$Player48(c||a[0],"video")};a.prototype.setupAudioStreamIfExist=function(){var a=this.$Player8.getAudioRepresentations();return a.length?this.$Player48(this.$Player54("audio",a)||a[0],"audio"):b("oz-player/shims/OzMaybeNativePromise").resolve()};a.prototype.getMpd=function(){return this.$Player8};a.prototype.destroy=function(){__p&&__p();var a=this.$Player14.getOperationLogger("unload").start();this.$Player3.forEach(function(a){a.cleanup()});this.$Player31&&this.$Player31.cleanup();this.$Player3=new Map();this.$Player9.release();this.$Player9.engage();this.$Player12.destroy();this.$Player17.destroy();this.$Player18&&(this.$Player18.destroy(),this.$Player18=null);this.$Player19&&(this.$Player19.destroy(),this.$Player19=null);var c=b("Promise").resolve();this.$Player2.getBool("cleanup_video_node_on_destroy",!1)&&(this.$Player1.pause(),this.$Player1.src="",this.$Player1.setMediaKeys&&"function"===typeof this.$Player1.setMediaKeys&&(c=this.$Player1.setMediaKeys(null)));this.$Player20&&this.$Player20.destroy();this.$Player30&&this.$Player30.destroy();this.$Player21.destroy();this.$Player22.destroy();a.log();this.emit("destroyed");a=[c];return b("Promise").all(a)};a.prototype.$Player54=function(a,c){__p&&__p();var d;d=c.find(function(a){return this.$Player24.indexOf(a.getID())!==-1}.bind(this));if(!d&&this.$Player6&&this.$Player2.getBool("fix_quick_starter_overhead",!1)){var e=this.$Player6.getRepresentationId(a);e!==null&&e!==void 0&&(d=c.find(function(a){return a.getID()===e}))}d||(d=b("oz-player/utils/getRepresentationInCache")(c,this.$Player23));return d||null};a.prototype.$Player44=function(a){var c=new(b("oz-player/parsers/OzMpdParser"))(this.$Player2,{mpdUrl:this.$Player16,customParsers:this.$Player26,customRepresentationParsers:this.$Player27},this.$Player11,this.$Player14);this.$Player9.addSubscriptions(c.onError(this.$Player10.emitError));return c.parse(a)};a.prototype.$Player41=function(){var a=[];this.$Player15&&a.push(new h());return a};a.prototype.setDimensions=function(a){this.$Player28.setDimensions(a)};a.prototype.$Player55=function(a,b){b=this.$Player3.get(b);return b?b.getRepresentationIDAtTime(a):null};a.prototype.getAudioRepresentationIDAtTime=function(a){return this.$Player55(a,"audio")};a.prototype.getVideoRepresentationIDAtTime=function(a){return this.$Player55(a,"video")};a.prototype.$Player46=function(){this.$Player35!=null&&this.$Player35(Array.from(this.$Player3.values()))};a.prototype.$Player47=function(){this.$Player2.getBool("end_buffered_streams_on_transition_to_static",!1)&&this.$Player3.forEach(function(a){return a.endStreamIfBufferedToEndTime()})};a.prototype.getDebug=function(){var a=this.$Player3.get("video"),b=this.$Player3.get("audio"),c,d,e,f,g;a&&(c=a.getDebug().MediaStreamAbrManager,d=a.getDebug().SourceBufferManager,d&&(e=d.getDebug().SourceBuffer));b&&(f=b.getDebug().SourceBufferManager,f&&(g=f.getDebug().SourceBuffer));return{getManifest:function(){return this.$Player8}.bind(this),indentifiersIntact:!0,VideoSourceStream:a,VideoAbrManager:c,VideoBufferManager:d,VideoSourceBuffer:e,AudioSourceStream:b,AudioBufferManager:f,AudioSourceBuffer:g}};a.prototype.$Player53=function(a,b){this.emit("debug/dashPlayerEvent",{detail:{type:a,event:b}})};a.prototype.$Player42=function(){this.$Player2.getBool("live_playhead_catch_up",!1)&&(this.$Player32=new(b("oz-player/strategies/OzLiveheadDeltaCatchupStrategy"))(this.$Player2))};e.exports=a}),null);
__d("oz-player",["oz-player/Player"],(function(a,b,c,d,e,f){"use strict";e.exports=b("oz-player/Player")}),null);
__d("VideoPlayerHTML5Oz",["invariant","Promise","BanzaiODS","Deferred","EventEmitter","EventListener","FBLogger","MaybeNativePromise","OzDashPrefetchCache","OzMinimumSmallestDimensionRestriction","OzMosThresholdRestriction","OzNetworkRequestStreamHandler","RepomenAbrManager","SubscriptionsHandler","TimeRanges","URI","VideoPlayerConnectionQuality","VideoPlayerOzWWWConfig","VideoPlayerOzWWWGlobalConfig","VideoPlayerPlayLogger","VideoPlayerShakaPerformanceLogger","VideoPlayerVersions","VideoQualityClass","XHRRequest","extractCEA608","getCrossOriginTransport","gkx","oz-player","oz-player/configs/OzGlobalConfig","oz-player/loggings/OzLoggingUtils","oz-player/networks/OzBandwidthEstimator","oz-player/shims/OzURI","oz-player/strategies/OzBufferingDetector","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils","parseHeaders","setTimeout","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,j=b("oz-player/utils/OzNetworkRequestLoggingUtils").setPerformanceLoggingAttributes;b("oz-player/configs/OzGlobalConfig").setGlobalConfig(b("VideoPlayerOzWWWGlobalConfig"));var k=720;a=babelHelpers.inherits(l,b("EventEmitter"));h=a&&a.prototype;l.isSupported=function(a){__p&&__p();var c,d=function(a){__p&&__p();if(!a||typeof a!=="string")return!1;var c=/mimeType=\"([^\"]*)\"\s*codecs=\"([^\"]*)\"/g,d;while(d=c.exec(a)){d=d[1]+'; codecs="'+d[2]+'"';if(!window.MediaSource.isTypeSupported(d)){b("FBLogger")("www_video_oz").warn("Unsupported DASH type: %s",d);return!0}}return!1};!a.hasDashManifest()&&!a.getLiveManifestUrl()?c="noDashManifest":!window.MediaSource?c="noMediaSourceSupport":!window.fetch?c="noFetch":!window.ReadableStream?c="noReadableStream":!window.WritableStream?c="noWritableStream":a.getDashManifest()&&d(a.getDashManifest())&&(c="codecNotSupported");if(c){b("BanzaiODS").bumpEntityKey("VideoPlayerHtml5Oz","fallback."+c);return!1}return!0};l.getEstimatedBandwidth=function(){return b("oz-player/networks/OzBandwidthEstimator").getBandwidth(b("VideoPlayerOzWWWGlobalConfig"))};function l(a,c,d){__p&&__p();var e=d.config,f=d.manifest,g=d.manifestUrl,i=d.videoID,j=d.isLive,k=d.isServableViaFbms,l=d.accessToken,m=d.playerOrigin,n=d.playerSuborigin,o=d.playerInstanceKey,p=d.prefetchCache,q=d.width,r=d.height,s=d.minPlayQuality,t=d.startTimestamp;d=d.seekHandler;h.constructor.call(this);this.$VideoPlayerHTML5Oz5=1;this.$VideoPlayerHTML5Oz6=!1;this.$VideoPlayerHTML5Oz8=null;this.$VideoPlayerHTML5Oz22=!1;this.$VideoPlayerHTML5Oz23=!1;this.$VideoPlayerHTML5Oz24=null;this.$VideoPlayerHTML5Oz25=null;this.$VideoPlayerHTML5Oz26=0;this.$VideoPlayerHTML5Oz27=null;this.$VideoPlayerHTML5Oz28=!1;this.$VideoPlayerHTML5Oz30=!0;this.$VideoPlayerHTML5Oz31=!1;this.$VideoPlayerHTML5Oz1=a;this.$VideoPlayerHTML5Oz2=f;this.$VideoPlayerHTML5Oz3=new(b("VideoPlayerOzWWWConfig"))(e);this.$VideoPlayerHTML5Oz16=c;this.$VideoPlayerHTML5Oz14=g;this.$VideoPlayerHTML5Oz15=p;this.$VideoPlayerHTML5Oz17=i;this.$VideoPlayerHTML5Oz18=q;this.$VideoPlayerHTML5Oz19=r;this.$VideoPlayerHTML5Oz20=t;this.$VideoPlayerHTML5Oz29=d;this.$VideoPlayerHTML5Oz9=b("VideoPlayerShakaPerformanceLogger").shouldInitialize()?new(b("VideoPlayerShakaPerformanceLogger"))({videoID:i,video:a,representationId:null,isLive:j,isServableViaFbms:k,accessToken:l,playerOrigin:m,playerSuborigin:n,playerVersion:this.getPlayerVersion(),uniqueID:o,getBandwidthEstimate:function(a){return b("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$VideoPlayerHTML5Oz3)}.bind(this)}):null;this.$VideoPlayerHTML5Oz9&&(this.$VideoPlayerHTML5Oz21=new(b("VideoPlayerPlayLogger"))(this.$VideoPlayerHTML5Oz1,this.$VideoPlayerHTML5Oz9));this.$VideoPlayerHTML5Oz13=s;(!this.$VideoPlayerHTML5Oz15||typeof this.$VideoPlayerHTML5Oz15.getCachedRepresentations!=="function")&&(this.$VideoPlayerHTML5Oz15=null);!this.$VideoPlayerHTML5Oz15&&this.$VideoPlayerHTML5Oz3.getBool("use_prefetch_cache",!1)&&(this.$VideoPlayerHTML5Oz15=new(b("OzDashPrefetchCache"))());this.$VideoPlayerHTML5Oz32()}l.prototype.$VideoPlayerHTML5Oz32=function(){this.$VideoPlayerHTML5Oz12=new(b("SubscriptionsHandler"))();this.$VideoPlayerHTML5Oz33();var a=this.$VideoPlayerHTML5Oz3.getBool("fix_live_video_duration_buffering",!1);this.$VideoPlayerHTML5Oz7=new(b("oz-player/strategies/OzBufferingDetector"))(this.$VideoPlayerHTML5Oz1,this.$VideoPlayerHTML5Oz3,function(){return!a||this.$VideoPlayerHTML5Oz28?this.$VideoPlayerHTML5Oz1.duration:Infinity}.bind(this));this.$VideoPlayerHTML5Oz3.getBool("cleanup_buffering_detector_on_unload",!1)||(this.$VideoPlayerHTML5Oz7.addListener("enter_buffering",this.$VideoPlayerHTML5Oz34.bind(this)),this.$VideoPlayerHTML5Oz7.addListener("leave_buffering",this.$VideoPlayerHTML5Oz35.bind(this)));this.$VideoPlayerHTML5Oz12.addSubscriptions(b("EventListener").listen(this.$VideoPlayerHTML5Oz1,"timeupdate",function(a){this.$VideoPlayerHTML5Oz36(a.target.currentTime)}.bind(this)));this.$VideoPlayerHTML5Oz3.getBool("cleanup_buffering_detector_on_unload",!1)&&this.$VideoPlayerHTML5Oz12.addSubscriptions(this.$VideoPlayerHTML5Oz7.addListener("enter_buffering",this.$VideoPlayerHTML5Oz34.bind(this)),this.$VideoPlayerHTML5Oz7.addListener("leave_buffering",this.$VideoPlayerHTML5Oz35.bind(this)))};l.prototype.setup=function(){var a=[];this.$VideoPlayerHTML5Oz9&&a.push(this.$VideoPlayerHTML5Oz9);var b=[];this.$VideoPlayerHTML5Oz3.getBool("force_initial_representation",!1)&&(b=this.$VideoPlayerHTML5Oz16);this.$VideoPlayerHTML5Oz2?this.$VideoPlayerHTML5Oz37({manifest:this.$VideoPlayerHTML5Oz2,manifestUrl:this.$VideoPlayerHTML5Oz14,loggerProviders:a,prefetchCache:this.$VideoPlayerHTML5Oz15,initialRepresentations:b,videoID:this.$VideoPlayerHTML5Oz17,width:this.$VideoPlayerHTML5Oz18,height:this.$VideoPlayerHTML5Oz19}):(!this.$VideoPlayerHTML5Oz14&&g(0,1106),this.$VideoPlayerHTML5Oz38(this.$VideoPlayerHTML5Oz14,a,b))};l.prototype.$VideoPlayerHTML5Oz38=function(a,c,d){this.$VideoPlayerHTML5Oz39(a).then(function(b){this.$VideoPlayerHTML5Oz37({manifest:b,manifestUrl:a,loggerProviders:c,prefetchCache:this.$VideoPlayerHTML5Oz15,initialRepresentations:d,videoID:this.$VideoPlayerHTML5Oz17,width:this.$VideoPlayerHTML5Oz18,height:this.$VideoPlayerHTML5Oz19})}.bind(this))["catch"](function(e){if(e instanceof b("oz-player/utils/OzError")&&this.$VideoPlayerHTML5Oz26<this.$VideoPlayerHTML5Oz3.getNumber("initial_manifest_request_retry_count",0)){var f=JSON.parse(this.$VideoPlayerHTML5Oz3.getString("network_retry_intervals_json","{}"));f=f[e.getExtra().code];typeof f==="number"&&f>0?(this.$VideoPlayerHTML5Oz26++,b("setTimeout")(function(){this.$VideoPlayerHTML5Oz38(a,c,d)}.bind(this),f)):this.$VideoPlayerHTML5Oz40(e)}else this.$VideoPlayerHTML5Oz40(e)}.bind(this))};l.prototype.$VideoPlayerHTML5Oz39=function(a){__p&&__p();var c=new(b("Deferred"))();this.$VideoPlayerHTML5Oz9&&(this.$VideoPlayerHTML5Oz27=this.$VideoPlayerHTML5Oz9.getOperationLogger("request").setType("manifest").setResource(a).start());new(b("XHRRequest"))(new(b("URI"))(a)).setMethod("GET").setResponseType("text").setTransportBuilder(b("getCrossOriginTransport")).setErrorHandler(function(d){__p&&__p();if(this.$VideoPlayerHTML5Oz3.getBool("enable_double_ingest",!1)&&d&&d.errorRawResponseHeaders){var e=b("parseHeaders")(d.errorRawResponseHeaders);e=e["x-fb-video-replica"];if(e!=null){this.emit("replicaSwitch",{replica:parseInt(e,10),url:a,status:d.rawTransportStatus,timestamp:new Date().valueOf()});return}}c.reject(d?new(b("oz-player/utils/OzError"))({type:d.errorCode,description:d.errorMsg,extra:{code:d.errorRawTransportStatus,url:a}}):d);this.$VideoPlayerHTML5Oz27&&(this.$VideoPlayerHTML5Oz27.setError(d).log(),this.$VideoPlayerHTML5Oz27=null)}.bind(this)).setResponseHandler(Object.assign(function(b){this.$VideoPlayerHTML5Oz27&&(j(this.$VideoPlayerHTML5Oz27,a),this.$VideoPlayerHTML5Oz27&&this.$VideoPlayerHTML5Oz27.log(),this.$VideoPlayerHTML5Oz27=null),c.resolve(b)}.bind(this),{includeHeaders:!0})).send();return c.getPromise()};l.prototype.$VideoPlayerHTML5Oz37=function(a){var c=a.manifest,d=a.manifestUrl,e=a.loggerProviders,f=a.prefetchCache,g=a.initialRepresentations,h=a.videoID,i=a.width;a=a.height;c=this.$VideoPlayerHTML5Oz4=new(b("oz-player"))(this.$VideoPlayerHTML5Oz1,this.$VideoPlayerHTML5Oz3,c,{width:i,height:a},d,{perfLoggerProviders:e,observedOperationLoggers:[],isOzDevConsoleEnabled:b("gkx")("722076")},f,new(b("OzNetworkRequestStreamHandler"))(this.$VideoPlayerHTML5Oz3),g||[],this.$VideoPlayerHTML5Oz41(),h,this.$VideoPlayerHTML5Oz42(),this.$VideoPlayerHTML5Oz43(),this.$VideoPlayerHTML5Oz44(),this.$VideoPlayerHTML5Oz29,this.$VideoPlayerHTML5Oz45(),this.$VideoPlayerHTML5Oz3.getNumber("live_initial_playback_position",0));!this.$VideoPlayerHTML5Oz3.getBool("cleanup_all_ozplayer_subscriptions",!1)?(c.onError(this.$VideoPlayerHTML5Oz40.bind(this)),c.addListener("destroyed",this.$VideoPlayerHTML5Oz46.bind(this)),c.addListener("debug/dashPlayerEvent",this.$VideoPlayerHTML5Oz47.bind(this)),c.addListener("streamEnd",this.$VideoPlayerHTML5Oz48.bind(this))):this.$VideoPlayerHTML5Oz12.addSubscriptions(c.onError(this.$VideoPlayerHTML5Oz40.bind(this)),c.addListener("destroyed",this.$VideoPlayerHTML5Oz46.bind(this)),c.addListener("debug/dashPlayerEvent",this.$VideoPlayerHTML5Oz47.bind(this)),c.addListener("streamEnd",this.$VideoPlayerHTML5Oz48.bind(this)));c.setupPlayer();this.$VideoPlayerHTML5Oz49(c);this.$VideoPlayerHTML5Oz3.getBool("emit_cea_608_availability",!1)&&this.$VideoPlayerHTML5Oz50(c);this.$VideoPlayerHTML5Oz51()&&c.updatePlayerRunTimeConfig({videoStreamDataHandler:this.$VideoPlayerHTML5Oz52()})};l.prototype.$VideoPlayerHTML5Oz52=function(){__p&&__p();return this.$VideoPlayerHTML5Oz3.getBool("parse_cea_608",!1)?function(a,c){__p&&__p();if(!this.$VideoPlayerHTML5Oz51()||!this.$VideoPlayerHTML5Oz30)return;try{a=a.getCustomField("timescale")||0;if(!a||typeof a!=="number")return;c=b("extractCEA608")(c,a).then(function(a){this.emit("cea608CaptionsParsed",a)}.bind(this));this.$VideoPlayerHTML5Oz9&&i(c,this.$VideoPlayerHTML5Oz9,"cea608_extraction")}catch(a){this.$VideoPlayerHTML5Oz40(a)}}.bind(this):null};l.prototype.$VideoPlayerHTML5Oz42=function(){var a=[];this.$VideoPlayerHTML5Oz3.getBool("respect_force_hd_prop",!1)&&this.$VideoPlayerHTML5Oz13===b("VideoQualityClass").HD&&a.push(new(b("OzMinimumSmallestDimensionRestriction"))(k));var c=this.$VideoPlayerHTML5Oz3.getNumber("mos_upper_threshold",0),d=this.$VideoPlayerHTML5Oz3.getNumber("mos_lower_threshold",0);c>d&&a.push(new(b("OzMosThresholdRestriction"))(c,d,this.$VideoPlayerHTML5Oz3.getBool("keep_lowest_mos_above_upper_thresold",!1)));return a};l.prototype.$VideoPlayerHTML5Oz36=function(a){__p&&__p();if(this.$VideoPlayerHTML5Oz3.getBool("fix_representation_ended_timing",!1)&&(this.$VideoPlayerHTML5Oz1.paused||this.$VideoPlayerHTML5Oz1.seeking))return;if(!this.$VideoPlayerHTML5Oz4)return;a=this.$VideoPlayerHTML5Oz4.getVideoRepresentationIDAtTime(a);if(a!=null&&a!==this.$VideoPlayerHTML5Oz8){var b=this.$VideoPlayerHTML5Oz8;this.$VideoPlayerHTML5Oz8=a;b!=null&&this.emit("representation_ended",{representationID:b,nextRepresentationID:a})}};l.prototype.$VideoPlayerHTML5Oz33=function(){var a=this.$VideoPlayerHTML5Oz3.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return;var c=function(){this.$VideoPlayerHTML5Oz3.setContext("connection_quality",b("VideoPlayerConnectionQuality").evaluate(l.getEstimatedBandwidth))}.bind(this);this.$VideoPlayerHTML5Oz12.addSubscriptions(b("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",b("throttle")(c,a)));c()};l.prototype.$VideoPlayerHTML5Oz45=function(){return this.$VideoPlayerHTML5Oz3.getBool("end_all_streams_on_stream_gone",!1)?function(a){return a.forEach(function(a){return a.endStream()})}:null};l.prototype.$VideoPlayerHTML5Oz40=function(a){if(a instanceof b("oz-player/utils/OzError")){var c=a.getExtra();c.code==="417"&&c.headers&&c.headers.has("x-fb-video-replica")&&this.$VideoPlayerHTML5Oz3.getBool("enable_double_ingest",!1)?this.emit("replicaSwitch",{replica:parseInt(c.headers.get("x-fb-video-replica"),10),url:c.url,status:c.code,timestamp:new Date().valueOf()}):(this.emit("error",{error:a.getType(),message:a.getDescription(),httpStatus:c.code,url:c.url,stack:a.stack}),this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.destroy())}else this.emit("error",{error:"OZ_JAVASCRIPT_NATIVE",message:a.name+" "+a.message,httpStatus:null,url:null,stack:a.stack})};l.prototype.$VideoPlayerHTML5Oz48=function(){this.$VideoPlayerHTML5Oz28=!0};l.prototype.$VideoPlayerHTML5Oz46=function(){this.$VideoPlayerHTML5Oz4=null};l.prototype.$VideoPlayerHTML5Oz47=function(a){this.emit("debug/dashPlayerEvent",a.detail)};l.prototype.$VideoPlayerHTML5Oz53=function(){var a=1;return this.$VideoPlayerHTML5Oz24!=null&&Math.abs(this.$VideoPlayerHTML5Oz1.currentTime-this.$VideoPlayerHTML5Oz24)<a||this.$VideoPlayerHTML5Oz25!=null&&Math.abs(this.$VideoPlayerHTML5Oz1.currentTime-this.$VideoPlayerHTML5Oz25)<a?!0:!1};l.prototype.$VideoPlayerHTML5Oz34=function(a){this.$VideoPlayerHTML5Oz53()||(this.$VideoPlayerHTML5Oz22=!0,this.emit("bufferingStart"),this.$VideoPlayerHTML5Oz9&&(this.$VideoPlayerHTML5Oz10=this.$VideoPlayerHTML5Oz9.getOperationLogger("buffering").setType(a))),this.$VideoPlayerHTML5Oz3.getBool("throttle_playback_rate_on_stall",!1)&&this.$VideoPlayerHTML5Oz54()};l.prototype.$VideoPlayerHTML5Oz35=function(){(!this.$VideoPlayerHTML5Oz3.getBool("buffer_end_only_when_buffering",!1)||this.$VideoPlayerHTML5Oz22)&&(this.emit("bufferingEnd"),this.$VideoPlayerHTML5Oz10&&(this.$VideoPlayerHTML5Oz10.log(),this.$VideoPlayerHTML5Oz10=null),this.$VideoPlayerHTML5Oz22=!1),this.$VideoPlayerHTML5Oz3.getBool("throttle_playback_rate_on_stall",!1)&&this.$VideoPlayerHTML5Oz55()};l.prototype.$VideoPlayerHTML5Oz54=function(){this.$VideoPlayerHTML5Oz5==null&&(this.$VideoPlayerHTML5Oz5=this.$VideoPlayerHTML5Oz1.playbackRate),this.$VideoPlayerHTML5Oz1.playbackRate=0};l.prototype.$VideoPlayerHTML5Oz55=function(){this.$VideoPlayerHTML5Oz5&&(this.$VideoPlayerHTML5Oz1.playbackRate=this.$VideoPlayerHTML5Oz5),this.$VideoPlayerHTML5Oz5=null};l.prototype.$VideoPlayerHTML5Oz50=function(a){var b=a.getMpd();a=this.$VideoPlayerHTML5Oz3.getBool("enable_asr_captions",!1);this.$VideoPlayerHTML5Oz31=!!b.getCustomField("hasInlinedSubtitlesFromUsingASRCaptions")&&a;a=function(){this.$VideoPlayerHTML5Oz56(!!b.getCustomField("hasInlinedSubtitles")||this.$VideoPlayerHTML5Oz31)}.bind(this);a();this.$VideoPlayerHTML5Oz12.addSubscriptions(b.addListener("updated",a))};l.prototype.$VideoPlayerHTML5Oz56=function(a){if(this.$VideoPlayerHTML5Oz6===a)return;this.$VideoPlayerHTML5Oz6=a;this.emit("cea608AvailabilityChanged")};l.prototype.$VideoPlayerHTML5Oz51=function(){return this.$VideoPlayerHTML5Oz6};l.prototype.$VideoPlayerHTML5Oz49=function(a){a=a;if(!a)return;this.$VideoPlayerHTML5Oz3.getNumber("stream_interrupt_check_mpd_stale_count_threshold",0)>0&&this.$VideoPlayerHTML5Oz12.addSubscriptions(a.addListener("streamInterruptAt",function(a){this.$VideoPlayerHTML5Oz24=a,this.$VideoPlayerHTML5Oz22&&(this.emit("bufferingEnd"),this.$VideoPlayerHTML5Oz10&&(this.$VideoPlayerHTML5Oz10.log(),this.$VideoPlayerHTML5Oz10=null)),this.$VideoPlayerHTML5Oz57()}.bind(this)),a.addListener("streamResumedAt",function(a){this.$VideoPlayerHTML5Oz25=a,this.$VideoPlayerHTML5Oz23&&this.$VideoPlayerHTML5Oz58()}.bind(this)))};l.prototype.$VideoPlayerHTML5Oz57=function(){this.emit("streamInterrupted"),this.$VideoPlayerHTML5Oz22=!1,this.$VideoPlayerHTML5Oz23=!0,this.$VideoPlayerHTML5Oz9&&(this.$VideoPlayerHTML5Oz11=this.$VideoPlayerHTML5Oz9.getOperationLogger("stream_interrupted"))};l.prototype.$VideoPlayerHTML5Oz58=function(){this.emit("streamResumed"),this.$VideoPlayerHTML5Oz11&&(this.$VideoPlayerHTML5Oz11.log(),this.$VideoPlayerHTML5Oz11=null),this.$VideoPlayerHTML5Oz23=!1};l.prototype.$VideoPlayerHTML5Oz41=function(){__p&&__p();return new Map([["fbProjection",function(a){try{return a.Period[0].AdaptationSet[0].$.FBProjection||null}catch(a){return null}}],["hasInlinedSubtitles",function(a){a=a.Period[0];a=a&&a.AdaptationSet[0].Accessibility;return a&&a[0]?a[0].$.schemeIdUri==="urn:scte:dash:cc:cea-608:2015":!1}],["hasInlinedSubtitlesFromUsingASRCaptions",function(a){a=Number.parseInt(a.$.usingASRCaptions,0);return!isNaN(a)&&a!=0}],["isFBIsLiveTemplated",function(a){return a.$.FBIsLiveTemplated==="true"}]])};l.prototype.$VideoPlayerHTML5Oz43=function(){__p&&__p();var a={timescale:function(a){a=a.SegmentTemplate;if(a&&a.length>0){a=a[0].$;if(a)return Number.parseInt(a.timescale,0)||null}return null}},c=this.$VideoPlayerHTML5Oz3.getNumber("mos_upper_threshold",0),d=this.$VideoPlayerHTML5Oz3.getNumber("mos_lower_threshold",0);c>d&&(a.playbackResolutionMos=function(a){try{return a.$.FBPlaybackResolutionMos}catch(a){return null}});this.$VideoPlayerHTML5Oz3.getBool("parse_custom_quality_label",!1)&&(a.qualityLabel=function(a){try{return a.$.FBQualityLabel}catch(a){return null}});this.$VideoPlayerHTML5Oz3.getBool("parse_first_segment",!1)&&(a.firstSegmentParser=function(a){if(this.$VideoPlayerHTML5Oz20!=null&&this.$VideoPlayerHTML5Oz20>0)return null;try{var c=a.SegmentBase[0].$.FBFirstSegmentRange.split("-").map(Number),d={startByte:c[0],endByte:c[1]},e=new(b("oz-player/shims/OzURI"))(a.BaseURL[0]._);return{getURI:function(){return e},getByteRange:function(){return d},getTimeRange:function(){return{startTime:0,endTime:2}}}}catch(a){return null}}.bind(this));return a};l.prototype.$VideoPlayerHTML5Oz44=function(){return this.$VideoPlayerHTML5Oz3.getBool("use_repomen_abr",!1)?function(a,c,d,e,f,g,h){return new(b("RepomenAbrManager"))(a,c,d,e,f,g,h)}:null};l.prototype.play=function(){this.$VideoPlayerHTML5Oz21&&this.$VideoPlayerHTML5Oz21.playStarted();return this.$VideoPlayerHTML5Oz1.play()};l.prototype.pause=function(){this.$VideoPlayerHTML5Oz1.pause()};l.prototype.reload=function(){if(this.$VideoPlayerHTML5Oz3.getBool("enable_abortload_and_reload",!1)){this.$VideoPlayerHTML5Oz32();this.setup();return b("MaybeNativePromise").resolve()}return b("Promise").reject()};l.prototype.unload=function(){this.$VideoPlayerHTML5Oz12.release();this.$VideoPlayerHTML5Oz10&&(this.$VideoPlayerHTML5Oz10.log(),this.$VideoPlayerHTML5Oz10=null);this.$VideoPlayerHTML5Oz11&&(this.$VideoPlayerHTML5Oz11.log(),this.$VideoPlayerHTML5Oz11=null);this.$VideoPlayerHTML5Oz21&&this.$VideoPlayerHTML5Oz21.unload();this.$VideoPlayerHTML5Oz26=0;var a=b("Promise").resolve();this.$VideoPlayerHTML5Oz3.getBool("cleanup_buffering_detector_on_unload",!1)&&this.$VideoPlayerHTML5Oz7&&this.$VideoPlayerHTML5Oz7.destroy();this.$VideoPlayerHTML5Oz3.getBool("enable_abortload_and_reload",!1)&&(this.$VideoPlayerHTML5Oz35(),this.$VideoPlayerHTML5Oz4&&(a=this.$VideoPlayerHTML5Oz4.destroy(),this.$VideoPlayerHTML5Oz4=null));return a};l.prototype.getVideoStreamInfoIDForTimePosition=function(a){return!this.$VideoPlayerHTML5Oz4?null:this.$VideoPlayerHTML5Oz4.getVideoRepresentationIDAtTime(a)};l.prototype.getAudioStreamInfoIDForTimePosition=function(a){return!this.$VideoPlayerHTML5Oz4?null:this.$VideoPlayerHTML5Oz4.getAudioRepresentationIDAtTime(a)};l.prototype.getDashAudioConfiguration=function(){return""};l.prototype.getLocalEstimator=function(){return null};l.prototype.setDimensions=function(a,b){this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.setDimensions({width:a,height:b})};l.prototype.getLongestInitResponseTime=function(){return 0};l.prototype.setPlaybackRate=function(a){this.$VideoPlayerHTML5Oz5=a,this.$VideoPlayerHTML5Oz1.playbackRate=a};l.prototype.hasSubtitles=function(){return this.$VideoPlayerHTML5Oz51()};l.prototype.areSubtitlesAutogenerated=function(){return this.$VideoPlayerHTML5Oz31};l.prototype.enableSubtitles=function(a){this.$VideoPlayerHTML5Oz30=a};l.prototype.setPreferredVideoQuality=function(a){if(!this.$VideoPlayerHTML5Oz4)return;this.$VideoPlayerHTML5Oz4.switchToVideoQuality(a)};l.prototype.setVideoStreamOffset=function(a){};l.prototype.getSelectedVideoQuality=function(){return!this.$VideoPlayerHTML5Oz4?null:this.$VideoPlayerHTML5Oz4.getCurrentQuality()};l.prototype.unsetPreferredVideoQuality=function(){this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.enableVideoQualityAdaptation()};l.prototype.getAvailableVideoQualities=function(){return!this.$VideoPlayerHTML5Oz4?[]:this.$VideoPlayerHTML5Oz4.getVideoQualities()};l.prototype.getIsAbrEnabled=function(){return this.$VideoPlayerHTML5Oz3.getBool("enable_adaptation",!1)};l.prototype.canAutoSelectVideoQuality=function(){return!0};l.prototype.isDrm=function(){return!1};l.prototype.setPreloadDisabled=function(a){};l.prototype.restoreStreamBufferSize=function(){};l.prototype.getDebug=function(){return{manifest:this.$VideoPlayerHTML5Oz2,DashPlayer:this.$VideoPlayerHTML5Oz4,AbrManager:this.$VideoPlayerHTML5Oz4?this.$VideoPlayerHTML5Oz4.getDebug().VideoAbrManager:null,BandwidthEstimator:b("oz-player/networks/OzBandwidthEstimator")}};l.prototype.setSmartBufferAdjustmentEnabled=function(a){};l.prototype.getVideoProjection=function(){return!this.$VideoPlayerHTML5Oz4?null:this.$VideoPlayerHTML5Oz4.getMpd().getCustomField("fbProjection")};l.prototype.isPlayingLiveVODHighlights=function(){return!1};l.prototype.setEnableLiveheadCatchup=function(a){this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.setEnableLiveheadCatchup(a)};l.prototype.isFBWasLive=function(){return!1};l.prototype.clearBufferAfterSeekingIfLowerQuality=function(a){};l.prototype.isFBIsLiveTemplated=function(){if(this.$VideoPlayerHTML5Oz4){var a=this.$VideoPlayerHTML5Oz4.getMpd().getCustomField("isFBIsLiveTemplated");return!!a}return!1};l.prototype.isFBMS=function(){return!1};l.prototype.isLiveheadCatchupEnabled=function(){return!1};l.prototype.getSeekableRanges=function(){__p&&__p();if(this.$VideoPlayerHTML5Oz4){var a=this.$VideoPlayerHTML5Oz4.getMpd();a=a.getVideoRepresentations();if(a.length){a=a[0];a=a.getTimeRanges();if(a.length){var c=a[0].startTime;a=Math.max(a[a.length-1].endTime-this.$VideoPlayerHTML5Oz3.getNumber("live_rewind_seek_to_live_delta",8),c);return new(b("TimeRanges"))([{startTime:c,endTime:a}])}}}return null};l.prototype.refreshDashManifest=function(){return b("Promise").reject()};l.prototype.refreshLiveVODHighlightsManifest=function(){return b("Promise").reject()};l.prototype.switchReplicaSet=function(a){var c=new(b("URI"))(this.$VideoPlayerHTML5Oz14);c.addQueryData("replica",a);this.$VideoPlayerHTML5Oz14=c.toString()};l.prototype.getPlaybackRate=function(){return 1};l.prototype.getPlayerVersion=function(){return b("VideoPlayerVersions").OZ};l.prototype.$VideoPlayerHTML5Oz59=function(a){a=a.trim();var b=a[a.length-1];return b.toLowerCase()==="p"?a:a+"p"};l.prototype.$VideoPlayerHTML5Oz60=function(a){a=a.trim();var b=a[a.length-1];return b.toLowerCase()==="p"?a.substr(0,a.length-1):a};l.prototype.getManifestUrl=function(){return this.$VideoPlayerHTML5Oz14};e.exports=l}),null);